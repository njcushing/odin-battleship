(()=>{"use strict";var e={786:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(537),o=t.n(r),a=t(645),s=t.n(a)()(o());s.push([e.id,":root {\n    --battleship-board-width: 40vw;\n}\n\n.base {\n    border: 1px solid black;\n}\n\n.board-area {\n    display: grid;\n    grid-template-rows: repeat(2, auto);\n    border: 1px solid black;\n    gap: 2rem;\n}\n\n.board-one,\n.board-two {\n    display: grid;\n    grid-template-rows: repeat(10, auto);\n    grid-template-columns: repeat(10, auto);\n    width: 20rem;\n    height: 20rem;\n    gap: 0.12rem;\n}\n\n.cell {\n    border: 1px solid black;\n}\n.cell:hover {\n    background-color: #ececec;\n}\n.cell:active {\n    background-color: #e2e2e2;\n}","",{version:3,sources:["webpack://./src/DOM/DOM-styles.css"],names:[],mappings:"AAAA;IACI,8BAA8B;AAClC;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,mCAAmC;IACnC,uBAAuB;IACvB,SAAS;AACb;;AAEA;;IAEI,aAAa;IACb,oCAAoC;IACpC,uCAAuC;IACvC,YAAY;IACZ,aAAa;IACb,YAAY;AAChB;;AAEA;IACI,uBAAuB;AAC3B;AACA;IACI,yBAAyB;AAC7B;AACA;IACI,yBAAyB;AAC7B",sourcesContent:[":root {\n    --battleship-board-width: 40vw;\n}\n\n.base {\n    border: 1px solid black;\n}\n\n.board-area {\n    display: grid;\n    grid-template-rows: repeat(2, auto);\n    border: 1px solid black;\n    gap: 2rem;\n}\n\n.board-one,\n.board-two {\n    display: grid;\n    grid-template-rows: repeat(10, auto);\n    grid-template-columns: repeat(10, auto);\n    width: 20rem;\n    height: 20rem;\n    gap: 0.12rem;\n}\n\n.cell {\n    border: 1px solid black;\n}\n.cell:hover {\n    background-color: #ececec;\n}\n.cell:active {\n    background-color: #e2e2e2;\n}"],sourceRoot:""}]);const i=s},28:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(537),o=t.n(r),a=t(645),s=t.n(a)()(o());s.push([e.id,":root {\n    font-size: 20px;\n}\n\n.no-select {\n    -webkit-touch-callout: none;    /* iOS Safari */\n    -webkit-user-select: none;      /* Safari */\n    -khtml-user-select: none;       /* Konqueror HTML */\n    -moz-user-select: none;         /* Old versions of Firefox */\n    -ms-user-select: none;          /* Internet Explorer/Edge */\n    user-select: none;              /* Non-prefixed version, currently\n                                       supported by Chrome, Edge, Opera and Firefox */\n}\n\nh1, h2, h3, h4, h5, h6 {\n    padding: 0px;\n    margin: 0px;\n}\n\nbody {\n    margin: 0;\n    min-width: 100vw;\n    min-height: 100vh;\n    display: grid;\n    justify-content: center;\n    align-content: center;\n}","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;IACI,eAAe;AACnB;;AAEA;IACI,2BAA2B,KAAK,eAAe;IAC/C,yBAAyB,OAAO,WAAW;IAC3C,wBAAwB,QAAQ,mBAAmB;IACnD,sBAAsB,UAAU,4BAA4B;IAC5D,qBAAqB,WAAW,2BAA2B;IAC3D,iBAAiB,eAAe;qFACiD;AACrF;;AAEA;IACI,YAAY;IACZ,WAAW;AACf;;AAEA;IACI,SAAS;IACT,gBAAgB;IAChB,iBAAiB;IACjB,aAAa;IACb,uBAAuB;IACvB,qBAAqB;AACzB",sourcesContent:[":root {\n    font-size: 20px;\n}\n\n.no-select {\n    -webkit-touch-callout: none;    /* iOS Safari */\n    -webkit-user-select: none;      /* Safari */\n    -khtml-user-select: none;       /* Konqueror HTML */\n    -moz-user-select: none;         /* Old versions of Firefox */\n    -ms-user-select: none;          /* Internet Explorer/Edge */\n    user-select: none;              /* Non-prefixed version, currently\n                                       supported by Chrome, Edge, Opera and Firefox */\n}\n\nh1, h2, h3, h4, h5, h6 {\n    padding: 0px;\n    margin: 0px;\n}\n\nbody {\n    margin: 0;\n    min-width: 100vw;\n    min-height: 100vh;\n    display: grid;\n    justify-content: center;\n    align-content: center;\n}"],sourceRoot:""}]);const i=s},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&s[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),n.push(c))}},n}},537:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[n].concat([a]).join("\n")}return[n].join("\n")}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},s=[],i=0;i<e.length;i++){var l=e[i],u=r.base?l[0]+r.base:l[0],c=a[u]||0,A="".concat(u," ").concat(c);a[u]=c+1;var d=t(A),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)n[d].references++,n[d].updater(p);else{var f=o(p,r);r.byIndex=i,n.splice(i,0,{identifier:A,updater:f,references:1})}s.push(A)}return s}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=t(a[s]);n[i].references--}for(var l=r(e,o),u=0;u<a.length;u++){var c=t(a[u]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}a=l}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{const e=()=>{let e="Manual";return{setStyle:n=>{"Manual"!==n&&"Computer"!==n||(e=n)},getStyle:()=>e,takeComputerTurnRandom:e=>{const n=[],t=e.observeBoard();for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)2!==t[e][r]&&n.push([r,e]);const r=n[Math.floor(Math.random()*n.length)];e.receiveAttack(r)}}},n=e=>{let n=e,t=!1,r=[],o=[],a=[];const s=()=>{let e=[];for(let t=0;t<n;t++){e.push([]);for(let r=0;r<n;r++)e[t].push(0)}return e};let i=s(),l=null;const u=(e,n,t,r)=>{if(!Number.isInteger(n)||n<1||n>e.length)return!1;if(!d(t))return!1;if("boolean"!=typeof r)return!1;const o=c(n,t,r);if(o[0][0]<0||o[0][0]>=e.length||o[0][1]<0||o[0][1]>=e.length||o[1][0]<0||o[1][0]>=e.length||o[1][1]<0||o[1][1]>=e.length)return!1;for(let n=o[0][0]-1;n<=o[1][0]+1;n++)if(-1!==n&&n!==e.length)for(let t=o[0][1]-1;t<=o[1][1]+1;t++)if(-1!==t&&t!==e.length&&0!==e[t][n])return!1;return!0},c=(e,n,t)=>{const r=Math.abs(Math.floor((e-1)/2)),o=Math.abs(Math.ceil((e-1)/2));return t?[[n[0],n[1]-r],[n[0],n[1]+o]]:[[n[0]-r,n[1]],[n[0]+o,n[1]]]},A=(e,n)=>{if(0!==e[n[1]][n[0]]){const t=[],r=n=>{t.push(n),e[n[1]][n[0]]=0,n[1]>0&&0!==e[n[1]-1][n[0]]&&r([n[0],n[1]-1]),n[0]>0&&0!==e[n[1]][n[0]-1]&&r([n[0]-1,n[1]]),n[1]<e.length-1&&0!==e[n[1]+1][n[0]]&&r([n[0],n[1]+1]),n[0]<e.length-1&&0!==e[n[1]][n[0]+1]&&r([n[0]+1,n[1]])};return r(n),[e,t]}return null},d=e=>!!(Array.isArray(e)&&2===e.length&&Number.isInteger(e[0])&&e[0]>=0&&e[0]<i.length&&Number.isInteger(e[1])&&e[1]>=0&&e[1]<i.length),p=()=>t,f=()=>JSON.parse(JSON.stringify(i));return{startGame:()=>{t=!0,l=f()},resetBoard:()=>{i=s(),l=null,t=!1,r=[],o=[],a=[]},placeShip:(e,n,t)=>{if(p())return null;if(u(i,e,n,t)){const r=c(e,n,t);if(t)for(let e=r[0][1];e<=r[1][1];e++)i[e][n[0]]=1;else for(let e=r[0][0];e<=r[1][0];e++)i[n[1]][e]=1}},moveShip:(e,n,t)=>{if(p())return null;if(!d(e))return;if(!d(n))return;if("boolean"!=typeof t)return!1;let r=f();const o=A(r,e);if(!o)return;r=o[0];const a=o[1];let s=!1;a.length>2&&a[0][1]!==a[1][1]&&(s=!0);const l=Math.ceil((a.length-1)/2);let c=[];if(s?a.sort(((e,n)=>e[1]-n[1])):a.sort(((e,n)=>e[0]-n[0])),c=a[l],t&&(s=!s),t?(n[0]+=c[1]-e[1],n[1]+=c[0]-e[0]):(n[0]+=c[0]-e[0],n[1]+=c[1]-e[1]),u(r,a.length,n,s)){i=r;for(let e=0;e<a.length;e++)s?i[n[1]+(e-l)][n[0]]=1:i[n[1]][n[0]+(e-l)]=1}},deleteShip:e=>{if(p())return null;d(e)&&A(i,e)},receiveAttack:e=>{if(!p())return!1;if(d(e)&&2!==i[e[1]][e[0]]){1===i[e[1]][e[0]]&&o.push(e),r.push(e),i[e[1]][e[0]]=2;let n=JSON.parse(JSON.stringify(l));const t=A(n,e);if(t){let e=!0;for(let n=0;n<t[1].length;n++)if(1===i[t[1][n][1]][t[1][n][0]]){e=!1;break}e&&a.push(t[1])}return!0}},checkDefeat:()=>{if(!p())return!1;for(let e=0;e<i.length;e++)for(let n=0;n<i[e].length;n++)if(1===i[e][n])return!1;return!0},isGameStarted:p,observeBoard:f,previousAttacks:()=>JSON.parse(JSON.stringify(r)),previousHits:()=>JSON.parse(JSON.stringify(o)),previousSinks:()=>JSON.parse(JSON.stringify(a))}};var r=t(379),o=t.n(r),a=t(795),s=t.n(a),i=t(569),l=t.n(i),u=t(565),c=t.n(u),A=t(216),d=t.n(A),p=t(589),f=t.n(p),h=t(28),m={};m.styleTagTransform=f(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=d(),o()(h.Z,m),h.Z&&h.Z.locals&&h.Z.locals;var g=t(786),b={};b.styleTagTransform=f(),b.setAttributes=c(),b.insert=l().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=d(),o()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals,(()=>{const t=(()=>{let t=!1,r=!1,o=0,a=[e(),e()];a[1].setStyle("Computer");let s=[n(10),n(10)];const i=()=>{r=!0,t=!1},l=()=>{setTimeout((()=>{let e=s[(o+1)%2];a[o].takeComputerTurnRandom(e),e.checkDefeat()?i():u()}),3e3)},u=()=>{o=(o+1)%2,"Computer"===a[o].getStyle()&&l()};return{startGame:()=>{if(t||r)return null;t=!0,r=!1,s[0].startGame(),s[1].startGame(),o=Math.floor(2*Math.random()),"Computer"===a[o].getStyle()&&l()},endGame:i,resetGame:()=>{t=!1,r=!1,s[0].resetBoard(),s[1].resetBoard()},manualAttack:(e,n)=>{if(!(Number.isInteger(e)&&e>=0&&e<=1))return null;if(!t)return null;if("Computer"===a[o].getStyle())return null;if(o===e)return null;const r=s[o].previousAttacks().length;if(s[o].receiveAttack(n),r!==s[o].previousAttacks().length){if(s[o].checkDefeat())return void i();u()}},isGameStarted:()=>t,isGameEnded:()=>r,getPlayers:()=>a,getGameboards:()=>s,changeTurn:u,getTurn:()=>o}})(),r={base:null,boardArea:null,board1:null,board2:null},o=[],a=[],s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=document.createElement(e);return r instanceof HTMLUnknownElement?null:(Array.isArray(n)&&n.forEach((e=>{"string"==typeof e&&r.classList.add(e)})),t instanceof HTMLElement&&t.appendChild(r),r)},i=(e,n,t)=>{if(!Array.isArray(n))return null;if(!(t instanceof Element))return null;switch(e){case 1:n.push(s("div",["cell","ship"],t));break;case 2:n.push(s("div",["cell","hit"],t));break;default:n.push(s("div",["cell","empty"],t))}},l=(e,n,t)=>{if(null===e)return null;if("object"!=typeof e)return null;if(!Object.hasOwn(e,"observeBoard"))return null;if(!Array.isArray(n))return null;if(!(t instanceof Element))return null;const r=e.observeBoard();n=[];for(let e=0;e<r.length;e++){n.push([]);for(let o=0;o<r[e].length;o++)i(r[e][o],n,t)}};return{displayGame:()=>{r.base&&r.base.removeElement(),r.base=s("div",["base"],document.body),r.boardArea=s("div",["board-area"],r.base),r.board1=s("div",["board-one"],r.boardArea),r.board2=s("div",["board-two"],r.boardArea),l(t.getGameboards()[0],o,r.board1),l(t.getGameboards()[1],a,r.board2)},createElement:s,createCell:i,createBoard:l}})().displayGame()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoid0ZBR0lBLEUsTUFBMEIsR0FBNEIsS0FFMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9DLEdBQUksc2pCQWlDckMsR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLENBQUMsc0NBQXNDLE1BQVEsR0FBRyxTQUFXLCtQQUErUCxlQUFpQixDQUFDLHVqQkFBdWpCLFdBQWEsTUFFaDdCLFMsK0RDckNJSCxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLDJ0QkEwQnJDLEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLDhCQUE4QixNQUFRLEdBQUcsU0FBVyxzU0FBc1MsZUFBaUIsQ0FBQyw0dEJBQTR0QixXQUFhLE1BRXBuQyxTLFVDM0JBRCxFQUFPRSxRQUFVLFNBQVVDLEdBQ3pCLElBQUlDLEVBQU8sR0E0RVgsT0F6RUFBLEVBQUtDLFNBQVcsV0FDZCxPQUFPQyxLQUFLQyxLQUFJLFNBQVVDLEdBQ3hCLElBQUlDLEVBQVUsR0FDVkMsT0FBK0IsSUFBWkYsRUFBSyxHQW9CNUIsT0FuQklBLEVBQUssS0FDUEMsR0FBVyxjQUFjRSxPQUFPSCxFQUFLLEdBQUksUUFFdkNBLEVBQUssS0FDUEMsR0FBVyxVQUFVRSxPQUFPSCxFQUFLLEdBQUksT0FFbkNFLElBQ0ZELEdBQVcsU0FBU0UsT0FBT0gsRUFBSyxHQUFHSSxPQUFTLEVBQUksSUFBSUQsT0FBT0gsRUFBSyxJQUFNLEdBQUksT0FFNUVDLEdBQVdOLEVBQXVCSyxHQUM5QkUsSUFDRkQsR0FBVyxLQUVURCxFQUFLLEtBQ1BDLEdBQVcsS0FFVEQsRUFBSyxLQUNQQyxHQUFXLEtBRU5BLENBQ1QsSUFBR0ksS0FBSyxHQUNWLEVBR0FULEVBQUtVLEVBQUksU0FBV0MsRUFBU0MsRUFBT0MsRUFBUUMsRUFBVUMsR0FDN0IsaUJBQVpKLElBQ1RBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLE9BQVNLLEtBRTdCLElBQUlDLEVBQXlCLENBQUMsRUFDOUIsR0FBSUosRUFDRixJQUFLLElBQUlLLEVBQUksRUFBR0EsRUFBSWhCLEtBQUtNLE9BQVFVLElBQUssQ0FDcEMsSUFBSXJCLEVBQUtLLEtBQUtnQixHQUFHLEdBQ1AsTUFBTnJCLElBQ0ZvQixFQUF1QnBCLElBQU0sRUFFakMsQ0FFRixJQUFLLElBQUlzQixFQUFLLEVBQUdBLEVBQUtSLEVBQVFILE9BQVFXLElBQU0sQ0FDMUMsSUFBSWYsRUFBTyxHQUFHRyxPQUFPSSxFQUFRUSxJQUN6Qk4sR0FBVUksRUFBdUJiLEVBQUssV0FHckIsSUFBVlcsU0FDYyxJQUFaWCxFQUFLLEtBR2RBLEVBQUssR0FBSyxTQUFTRyxPQUFPSCxFQUFLLEdBQUdJLE9BQVMsRUFBSSxJQUFJRCxPQUFPSCxFQUFLLElBQU0sR0FBSSxNQUFNRyxPQUFPSCxFQUFLLEdBQUksTUFGL0ZBLEVBQUssR0FBS1csR0FNVkgsSUFDR1IsRUFBSyxJQUdSQSxFQUFLLEdBQUssVUFBVUcsT0FBT0gsRUFBSyxHQUFJLE1BQU1HLE9BQU9ILEVBQUssR0FBSSxLQUMxREEsRUFBSyxHQUFLUSxHQUhWUixFQUFLLEdBQUtRLEdBTVZFLElBQ0dWLEVBQUssSUFHUkEsRUFBSyxHQUFLLGNBQWNHLE9BQU9ILEVBQUssR0FBSSxPQUFPRyxPQUFPSCxFQUFLLEdBQUksS0FDL0RBLEVBQUssR0FBS1UsR0FIVlYsRUFBSyxHQUFLLEdBQUdHLE9BQU9PLElBTXhCZCxFQUFLTCxLQUFLUyxHQUNaLENBQ0YsRUFDT0osQ0FDVCxDLFVDbEZBSixFQUFPRSxRQUFVLFNBQVVNLEdBQ3pCLElBQUlDLEVBQVVELEVBQUssR0FDZmdCLEVBQWFoQixFQUFLLEdBQ3RCLElBQUtnQixFQUNILE9BQU9mLEVBRVQsR0FBb0IsbUJBQVRnQixLQUFxQixDQUM5QixJQUFJQyxFQUFTRCxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVOLE1BQ3pETyxFQUFPLCtEQUErRHBCLE9BQU9lLEdBQzdFTSxFQUFnQixPQUFPckIsT0FBT29CLEVBQU0sT0FDeEMsTUFBTyxDQUFDdEIsR0FBU0UsT0FBTyxDQUFDcUIsSUFBZ0JuQixLQUFLLEtBQ2hELENBQ0EsTUFBTyxDQUFDSixHQUFTSSxLQUFLLEtBQ3hCLEMsVUNiQSxJQUFJb0IsRUFBYyxHQUNsQixTQUFTQyxFQUFxQkMsR0FFNUIsSUFEQSxJQUFJQyxHQUFVLEVBQ0x0QixFQUFJLEVBQUdBLEVBQUltQixFQUFZckIsT0FBUUUsSUFDdEMsR0FBSW1CLEVBQVluQixHQUFHcUIsYUFBZUEsRUFBWSxDQUM1Q0MsRUFBU3RCLEVBQ1QsS0FDRixDQUVGLE9BQU9zQixDQUNULENBQ0EsU0FBU0MsRUFBYWpDLEVBQU1rQyxHQUcxQixJQUZBLElBQUlDLEVBQWEsQ0FBQyxFQUNkQyxFQUFjLEdBQ1QxQixFQUFJLEVBQUdBLEVBQUlWLEVBQUtRLE9BQVFFLElBQUssQ0FDcEMsSUFBSU4sRUFBT0osRUFBS1UsR0FDWmIsRUFBS3FDLEVBQVFHLEtBQU9qQyxFQUFLLEdBQUs4QixFQUFRRyxLQUFPakMsRUFBSyxHQUNsRGtDLEVBQVFILEVBQVd0QyxJQUFPLEVBQzFCa0MsRUFBYSxHQUFHeEIsT0FBT1YsRUFBSSxLQUFLVSxPQUFPK0IsR0FDM0NILEVBQVd0QyxHQUFNeUMsRUFBUSxFQUN6QixJQUFJQyxFQUFvQlQsRUFBcUJDLEdBQ3pDUyxFQUFNLENBQ1JDLElBQUtyQyxFQUFLLEdBQ1ZRLE1BQU9SLEVBQUssR0FDWnNDLFVBQVd0QyxFQUFLLEdBQ2hCVSxTQUFVVixFQUFLLEdBQ2ZXLE1BQU9YLEVBQUssSUFFZCxJQUEyQixJQUF2Qm1DLEVBQ0ZWLEVBQVlVLEdBQW1CSSxhQUMvQmQsRUFBWVUsR0FBbUJLLFFBQVFKLE9BQ2xDLENBQ0wsSUFBSUksRUFBVUMsRUFBZ0JMLEVBQUtOLEdBQ25DQSxFQUFRWSxRQUFVcEMsRUFDbEJtQixFQUFZa0IsT0FBT3JDLEVBQUcsRUFBRyxDQUN2QnFCLFdBQVlBLEVBQ1phLFFBQVNBLEVBQ1RELFdBQVksR0FFaEIsQ0FDQVAsRUFBWXpDLEtBQUtvQyxFQUNuQixDQUNBLE9BQU9LLENBQ1QsQ0FDQSxTQUFTUyxFQUFnQkwsRUFBS04sR0FDNUIsSUFBSWMsRUFBTWQsRUFBUWUsT0FBT2YsR0FZekIsT0FYQWMsRUFBSUUsT0FBT1YsR0FDRyxTQUFpQlcsR0FDN0IsR0FBSUEsRUFBUSxDQUNWLEdBQUlBLEVBQU9WLE1BQVFELEVBQUlDLEtBQU9VLEVBQU92QyxRQUFVNEIsRUFBSTVCLE9BQVN1QyxFQUFPVCxZQUFjRixFQUFJRSxXQUFhUyxFQUFPckMsV0FBYTBCLEVBQUkxQixVQUFZcUMsRUFBT3BDLFFBQVV5QixFQUFJekIsTUFDekosT0FFRmlDLEVBQUlFLE9BQU9WLEVBQU1XLEVBQ25CLE1BQ0VILEVBQUlJLFFBRVIsQ0FFRixDQUNBeEQsRUFBT0UsUUFBVSxTQUFVRSxFQUFNa0MsR0FHL0IsSUFBSW1CLEVBQWtCcEIsRUFEdEJqQyxFQUFPQSxHQUFRLEdBRGZrQyxFQUFVQSxHQUFXLENBQUMsR0FHdEIsT0FBTyxTQUFnQm9CLEdBQ3JCQSxFQUFVQSxHQUFXLEdBQ3JCLElBQUssSUFBSTVDLEVBQUksRUFBR0EsRUFBSTJDLEVBQWdCN0MsT0FBUUUsSUFBSyxDQUMvQyxJQUNJNkMsRUFBUXpCLEVBREt1QixFQUFnQjNDLElBRWpDbUIsRUFBWTBCLEdBQU9aLFlBQ3JCLENBRUEsSUFEQSxJQUFJYSxFQUFxQnZCLEVBQWFxQixFQUFTcEIsR0FDdEN1QixFQUFLLEVBQUdBLEVBQUtKLEVBQWdCN0MsT0FBUWlELElBQU0sQ0FDbEQsSUFDSUMsRUFBUzVCLEVBREt1QixFQUFnQkksSUFFSyxJQUFuQzVCLEVBQVk2QixHQUFRZixhQUN0QmQsRUFBWTZCLEdBQVFkLFVBQ3BCZixFQUFZa0IsT0FBT1csRUFBUSxHQUUvQixDQUNBTCxFQUFrQkcsQ0FDcEIsQ0FDRixDLFVDakZBLElBQUlHLEVBQU8sQ0FBQyxFQStCWi9ELEVBQU9FLFFBUFAsU0FBMEI4RCxFQUFRQyxHQUNoQyxJQUFJQyxFQXRCTixTQUFtQkEsR0FDakIsUUFBNEIsSUFBakJILEVBQUtHLEdBQXlCLENBQ3ZDLElBQUlDLEVBQWNDLFNBQVNDLGNBQWNILEdBR3pDLEdBQUlJLE9BQU9DLG1CQUFxQkosYUFBdUJHLE9BQU9DLGtCQUM1RCxJQUdFSixFQUFjQSxFQUFZSyxnQkFBZ0JDLElBQzVDLENBQUUsTUFBT0MsR0FFUFAsRUFBYyxJQUNoQixDQUVGSixFQUFLRyxHQUFVQyxDQUNqQixDQUNBLE9BQU9KLEVBQUtHLEVBQ2QsQ0FJZVMsQ0FBVVgsR0FDdkIsSUFBS0UsRUFDSCxNQUFNLElBQUlVLE1BQU0sMkdBRWxCVixFQUFPVyxZQUFZWixFQUNyQixDLFVDdkJBakUsRUFBT0UsUUFOUCxTQUE0Qm9DLEdBQzFCLElBQUl3QyxFQUFVVixTQUFTVyxjQUFjLFNBR3JDLE9BRkF6QyxFQUFRMEMsY0FBY0YsRUFBU3hDLEVBQVEyQyxZQUN2QzNDLEVBQVEwQixPQUFPYyxFQUFTeEMsRUFBUUEsU0FDekJ3QyxDQUNULEMsZ0JDQ0E5RSxFQUFPRSxRQU5QLFNBQXdDZ0YsR0FDdEMsSUFBSUMsRUFBbUQsS0FDbkRBLEdBQ0ZELEVBQWFFLGFBQWEsUUFBU0QsRUFFdkMsQyxVQ29EQW5GLEVBQU9FLFFBakJQLFNBQWdCb0MsR0FDZCxHQUF3QixvQkFBYjhCLFNBQ1QsTUFBTyxDQUNMZCxPQUFRLFdBQW1CLEVBQzNCRSxPQUFRLFdBQW1CLEdBRy9CLElBQUkwQixFQUFlNUMsRUFBUStDLG1CQUFtQi9DLEdBQzlDLE1BQU8sQ0FDTGdCLE9BQVEsU0FBZ0JWLElBakQ1QixTQUFlc0MsRUFBYzVDLEVBQVNNLEdBQ3BDLElBQUlDLEVBQU0sR0FDTkQsRUFBSTFCLFdBQ04yQixHQUFPLGNBQWNsQyxPQUFPaUMsRUFBSTFCLFNBQVUsUUFFeEMwQixFQUFJNUIsUUFDTjZCLEdBQU8sVUFBVWxDLE9BQU9pQyxFQUFJNUIsTUFBTyxPQUVyQyxJQUFJTixPQUFpQyxJQUFka0MsRUFBSXpCLE1BQ3ZCVCxJQUNGbUMsR0FBTyxTQUFTbEMsT0FBT2lDLEVBQUl6QixNQUFNUCxPQUFTLEVBQUksSUFBSUQsT0FBT2lDLEVBQUl6QixPQUFTLEdBQUksT0FFNUUwQixHQUFPRCxFQUFJQyxJQUNQbkMsSUFDRm1DLEdBQU8sS0FFTEQsRUFBSTVCLFFBQ042QixHQUFPLEtBRUxELEVBQUkxQixXQUNOMkIsR0FBTyxLQUVULElBQUlDLEVBQVlGLEVBQUlFLFVBQ2hCQSxHQUE2QixvQkFBVHJCLE9BQ3RCb0IsR0FBTyx1REFBdURsQyxPQUFPYyxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVnQixNQUFlLFFBS3RJUixFQUFRZ0Qsa0JBQWtCekMsRUFBS3FDLEVBQWM1QyxFQUFRQSxRQUN2RCxDQW9CTWlELENBQU1MLEVBQWM1QyxFQUFTTSxFQUMvQixFQUNBWSxPQUFRLFlBckJaLFNBQTRCMEIsR0FFMUIsR0FBZ0MsT0FBNUJBLEVBQWFNLFdBQ2YsT0FBTyxFQUVUTixFQUFhTSxXQUFXQyxZQUFZUCxFQUN0QyxDQWdCTVEsQ0FBbUJSLEVBQ3JCLEVBRUosQyxVQzlDQWxGLEVBQU9FLFFBVlAsU0FBMkIyQyxFQUFLcUMsR0FDOUIsR0FBSUEsRUFBYVMsV0FDZlQsRUFBYVMsV0FBV0MsUUFBVS9DLE1BQzdCLENBQ0wsS0FBT3FDLEVBQWFXLFlBQ2xCWCxFQUFhTyxZQUFZUCxFQUFhVyxZQUV4Q1gsRUFBYUwsWUFBWVQsU0FBUzBCLGVBQWVqRCxHQUNuRCxDQUNGLEMsR0NYSWtELEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjdFLElBQWpCOEUsRUFDSCxPQUFPQSxFQUFhaEcsUUFHckIsSUFBSUYsRUFBUytGLEVBQXlCRSxHQUFZLENBQ2pEaEcsR0FBSWdHLEVBRUovRixRQUFTLENBQUMsR0FPWCxPQUhBaUcsRUFBb0JGLEdBQVVqRyxFQUFRQSxFQUFPRSxRQUFTOEYsR0FHL0NoRyxFQUFPRSxPQUNmLENDckJBOEYsRUFBb0JJLEVBQUtwRyxJQUN4QixJQUFJcUcsRUFBU3JHLEdBQVVBLEVBQU9zRyxXQUM3QixJQUFPdEcsRUFBaUIsUUFDeEIsSUFBTSxFQUVQLE9BREFnRyxFQUFvQk8sRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsQ0FBTSxFQ0xkTCxFQUFvQk8sRUFBSSxDQUFDckcsRUFBU3VHLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFQsRUFBb0JXLEVBQUVGLEVBQVlDLEtBQVNWLEVBQW9CVyxFQUFFekcsRUFBU3dHLElBQzVFRSxPQUFPQyxlQUFlM0csRUFBU3dHLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxJQUUxRSxFQ05EVixFQUFvQlcsRUFBSSxDQUFDL0QsRUFBS29FLElBQVVKLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUt2RSxFQUFLb0UsR0NBbEZoQixFQUFvQm9CLFFBQUtoRyxFLE1DQXpCLE1BZ0NBLEVBaENlaUcsS0FDWCxJQUFJcEQsRUFBUSxTQXlCWixNQUFPLENBQ0hxRCxTQXZCY0MsSUFDSixXQUFOQSxHQUF3QixhQUFOQSxJQUN0QnRELEVBQVFzRCxFQUFDLEVBc0JUQyxTQW5CYUEsSUFDTnZELEVBbUJQd0QsdUJBaEI0QkMsSUFDNUIsTUFBTUMsRUFBa0IsR0FDbEJDLEVBQVdGLEVBQU1HLGVBQ3ZCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRixFQUFTaEgsT0FBUWtILElBQ2pDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJSCxFQUFTRSxHQUFHbEgsT0FBUW1ILElBQ2IsSUFBbkJILEVBQVNFLEdBQUdDLElBQVVKLEVBQWdCNUgsS0FBSyxDQUFDZ0ksRUFBR0QsSUFHM0QsTUFBTUUsRUFDRkwsRUFBZ0JNLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdSLEVBQWdCL0csU0FDL0Q4RyxFQUFNVSxjQUFjSixFQUFLLEVBTzVCLEVDc09MLEVBcFFtQlQsSUFDZixJQUFJYyxFQUFPZCxFQUNQZSxHQUFjLEVBQ2RDLEVBQVUsR0FDVkMsRUFBTyxHQUNQQyxFQUFRLEdBRVosTUFBTUMsRUFBZ0JBLEtBQ2xCLElBQUloQixFQUFRLEdBQ1osSUFBSyxJQUFJNUcsRUFBSSxFQUFHQSxFQUFJdUgsRUFBTXZILElBQUssQ0FDM0I0RyxFQUFNM0gsS0FBSyxJQUNYLElBQUssSUFBSTRJLEVBQUksRUFBR0EsRUFBSU4sRUFBTU0sSUFDdEJqQixFQUFNNUcsR0FBR2YsS0FBSyxFQUV0QixDQUNBLE9BQU8ySCxDQUFLLEVBRWhCLElBQUlBLEVBQVFnQixJQUNSRSxFQUFnQixLQUVwQixNQXlFTUMsRUFBdUJBLENBQUNuQixFQUFPOUcsRUFBUWtJLEVBQVVDLEtBQ25ELElBQUtDLE9BQU9DLFVBQVVySSxJQUFXQSxFQUFTLEdBQUtBLEVBQVM4RyxFQUFNOUcsT0FDMUQsT0FBTyxFQUNYLElBQUtzSSxFQUF3QkosR0FBVyxPQUFPLEVBQy9DLEdBQXdCLGtCQUFiQyxFQUF3QixPQUFPLEVBRTFDLE1BQU1JLEVBQVNDLEVBQWtCeEksRUFBUWtJLEVBQVVDLEdBRW5ELEdBQ0lJLEVBQU8sR0FBRyxHQUFLLEdBQ2ZBLEVBQU8sR0FBRyxJQUFNekIsRUFBTTlHLFFBQ3RCdUksRUFBTyxHQUFHLEdBQUssR0FDZkEsRUFBTyxHQUFHLElBQU16QixFQUFNOUcsUUFDdEJ1SSxFQUFPLEdBQUcsR0FBSyxHQUNmQSxFQUFPLEdBQUcsSUFBTXpCLEVBQU05RyxRQUN0QnVJLEVBQU8sR0FBRyxHQUFLLEdBQ2ZBLEVBQU8sR0FBRyxJQUFNekIsRUFBTTlHLE9BRXRCLE9BQU8sRUFFWCxJQUFLLElBQUlFLEVBQUlxSSxFQUFPLEdBQUcsR0FBSyxFQUFHckksR0FBS3FJLEVBQU8sR0FBRyxHQUFLLEVBQUdySSxJQUNsRCxJQUFXLElBQVBBLEdBQVlBLElBQU00RyxFQUFNOUcsT0FDNUIsSUFBSyxJQUFJK0gsRUFBSVEsRUFBTyxHQUFHLEdBQUssRUFBR1IsR0FBS1EsRUFBTyxHQUFHLEdBQUssRUFBR1IsSUFDbEQsSUFBVyxJQUFQQSxHQUFZQSxJQUFNakIsRUFBTTlHLFFBQ1IsSUFBaEI4RyxFQUFNaUIsR0FBRzdILEdBQVUsT0FBTyxFQUl0QyxPQUFPLENBQUksRUFVVHNJLEVBQW9CQSxDQUFDeEksRUFBUWtJLEVBQVVDLEtBQ3pDLE1BQU1NLEVBQWVwQixLQUFLcUIsSUFBSXJCLEtBQUtDLE9BQU90SCxFQUFTLEdBQUssSUFDbEQySSxFQUFnQnRCLEtBQUtxQixJQUFJckIsS0FBS3VCLE1BQU01SSxFQUFTLEdBQUssSUFDeEQsT0FBSW1JLEVBQ08sQ0FDSCxDQUFDRCxFQUFTLEdBQUlBLEVBQVMsR0FBS08sR0FDNUIsQ0FBQ1AsRUFBUyxHQUFJQSxFQUFTLEdBQUtTLElBR3pCLENBQ0gsQ0FBQ1QsRUFBUyxHQUFLTyxFQUFjUCxFQUFTLElBQ3RDLENBQUNBLEVBQVMsR0FBS1MsRUFBZVQsRUFBUyxJQUMxQyxFQTZCSFcsRUFBY0EsQ0FBQy9CLEVBQU9vQixLQUN4QixHQUF3QyxJQUFwQ3BCLEVBQU1vQixFQUFTLElBQUlBLEVBQVMsSUFBVyxDQUN2QyxNQUFNWSxFQUFPLEdBQ1BDLEVBQW9CQyxJQUN0QkYsRUFBSzNKLEtBQUs2SixHQUNWbEMsRUFBTWtDLEVBQUksSUFBSUEsRUFBSSxJQUFNLEVBQ3BCQSxFQUFJLEdBQUssR0FBbUMsSUFBOUJsQyxFQUFNa0MsRUFBSSxHQUFLLEdBQUdBLEVBQUksS0FDcENELEVBQWlCLENBQUNDLEVBQUksR0FBSUEsRUFBSSxHQUFLLElBQ25DQSxFQUFJLEdBQUssR0FBbUMsSUFBOUJsQyxFQUFNa0MsRUFBSSxJQUFJQSxFQUFJLEdBQUssSUFDckNELEVBQWlCLENBQUNDLEVBQUksR0FBSyxFQUFHQSxFQUFJLEtBRWxDQSxFQUFJLEdBQUtsQyxFQUFNOUcsT0FBUyxHQUNNLElBQTlCOEcsRUFBTWtDLEVBQUksR0FBSyxHQUFHQSxFQUFJLEtBRXRCRCxFQUFpQixDQUFDQyxFQUFJLEdBQUlBLEVBQUksR0FBSyxJQUVuQ0EsRUFBSSxHQUFLbEMsRUFBTTlHLE9BQVMsR0FDTSxJQUE5QjhHLEVBQU1rQyxFQUFJLElBQUlBLEVBQUksR0FBSyxJQUV2QkQsRUFBaUIsQ0FBQ0MsRUFBSSxHQUFLLEVBQUdBLEVBQUksSUFBSSxFQUc5QyxPQURBRCxFQUFpQmIsR0FDVixDQUFDcEIsRUFBT2dDLEVBQ25CLENBQ0EsT0FBTyxJQUFJLEVBR1RSLEVBQTJCSixNQUV6QmUsTUFBTUMsUUFBUWhCLElBQ00sSUFBcEJBLEVBQVNsSSxRQUNUb0ksT0FBT0MsVUFBVUgsRUFBUyxLQUMxQkEsRUFBUyxJQUFNLEdBQ2ZBLEVBQVMsR0FBS3BCLEVBQU05RyxRQUNwQm9JLE9BQU9DLFVBQVVILEVBQVMsS0FDMUJBLEVBQVMsSUFBTSxHQUNmQSxFQUFTLEdBQUtwQixFQUFNOUcsUUFpQnRCbUosRUFBZ0JBLElBQ1h6QixFQUdMVCxFQUFlQSxJQUNWaEcsS0FBS21JLE1BQU1uSSxLQUFLQyxVQUFVNEYsSUFlckMsTUFBTyxDQUNIdUMsVUFsT2NBLEtBQ2QzQixHQUFjLEVBQ2RNLEVBQWdCZixHQUFjLEVBaU85QnFDLFdBOU5lQSxLQUNmeEMsRUFBUWdCLElBQ1JFLEVBQWdCLEtBQ2hCTixHQUFjLEVBQ2RDLEVBQVUsR0FDVkMsRUFBTyxHQUNQQyxFQUFRLEVBQUUsRUF5TlYwQixVQXROY0EsQ0FBQ3ZKLEVBQVFrSSxFQUFVQyxLQUNqQyxHQUFJZ0IsSUFBaUIsT0FBTyxLQUM1QixHQUFJbEIsRUFBcUJuQixFQUFPOUcsRUFBUWtJLEVBQVVDLEdBQVcsQ0FDekQsTUFBTUksRUFBU0MsRUFBa0J4SSxFQUFRa0ksRUFBVUMsR0FDbkQsR0FBSUEsRUFDQSxJQUFLLElBQUlKLEVBQUlRLEVBQU8sR0FBRyxHQUFJUixHQUFLUSxFQUFPLEdBQUcsR0FBSVIsSUFDMUNqQixFQUFNaUIsR0FBR0csRUFBUyxJQUFNLE9BRzVCLElBQUssSUFBSWhJLEVBQUlxSSxFQUFPLEdBQUcsR0FBSXJJLEdBQUtxSSxFQUFPLEdBQUcsR0FBSXJJLElBQzFDNEcsRUFBTW9CLEVBQVMsSUFBSWhJLEdBQUssQ0FHcEMsR0EwTUFzSixTQXZNYUEsQ0FBQ0MsRUFBU0MsRUFBU3ZCLEtBQ2hDLEdBQUlnQixJQUFpQixPQUFPLEtBQzVCLElBQUtiLEVBQXdCbUIsR0FBVSxPQUN2QyxJQUFLbkIsRUFBd0JvQixHQUFVLE9BQ3ZDLEdBQXdCLGtCQUFidkIsRUFBd0IsT0FBTyxFQUUxQyxJQUFJd0IsRUFBWTFDLElBQ2hCLE1BQU0yQyxFQUFVZixFQUFZYyxFQUFXRixHQUN2QyxJQUFLRyxFQUFTLE9BQ2RELEVBQVlDLEVBQVEsR0FDcEIsTUFBTWQsRUFBT2MsRUFBUSxHQUVyQixJQUFJQyxHQUFVLEVBQ1ZmLEVBQUs5SSxPQUFTLEdBQUs4SSxFQUFLLEdBQUcsS0FBT0EsRUFBSyxHQUFHLEtBQUllLEdBQVUsR0FFNUQsTUFBTUMsRUFBY3pDLEtBQUt1QixNQUFNRSxFQUFLOUksT0FBUyxHQUFLLEdBQ2xELElBQUkrSixFQUFZLEdBZWhCLEdBZElGLEVBQVNmLEVBQUtrQixNQUFLLENBQUNwRSxFQUFHcUUsSUFBTXJFLEVBQUUsR0FBS3FFLEVBQUUsS0FDckNuQixFQUFLa0IsTUFBSyxDQUFDcEUsRUFBR3FFLElBQU1yRSxFQUFFLEdBQUtxRSxFQUFFLEtBQ2xDRixFQUFZakIsRUFBS2dCLEdBRWIzQixJQUFVMEIsR0FBV0EsR0FFckIxQixHQUNBdUIsRUFBUSxJQUFNSyxFQUFVLEdBQUtOLEVBQVEsR0FDckNDLEVBQVEsSUFBTUssRUFBVSxHQUFLTixFQUFRLEtBRXJDQyxFQUFRLElBQU1LLEVBQVUsR0FBS04sRUFBUSxHQUNyQ0MsRUFBUSxJQUFNSyxFQUFVLEdBQUtOLEVBQVEsSUFHckN4QixFQUFxQjBCLEVBQVdiLEVBQUs5SSxPQUFRMEosRUFBU0csR0FBVSxDQUNoRS9DLEVBQVE2QyxFQUNSLElBQUssSUFBSXpKLEVBQUksRUFBR0EsRUFBSTRJLEVBQUs5SSxPQUFRRSxJQUN6QjJKLEVBQ0EvQyxFQUFNNEMsRUFBUSxJQUFNeEosRUFBSTRKLElBQWNKLEVBQVEsSUFBTSxFQUVwRDVDLEVBQU00QyxFQUFRLElBQUlBLEVBQVEsSUFBTXhKLEVBQUk0SixJQUFnQixDQUdoRSxHQWdLQUksV0E5SGdCaEMsSUFDaEIsR0FBSWlCLElBQWlCLE9BQU8sS0FDdkJiLEVBQXdCSixJQUU3QlcsRUFBWS9CLEVBQU9vQixFQUFTLEVBMkg1QlYsY0F6R21CVSxJQUNuQixJQUFLaUIsSUFBaUIsT0FBTyxFQUM3QixHQUFLYixFQUF3QkosSUFFVyxJQUFwQ3BCLEVBQU1vQixFQUFTLElBQUlBLEVBQVMsSUFBVyxDQUNDLElBQXBDcEIsRUFBTW9CLEVBQVMsSUFBSUEsRUFBUyxLQUFXTixFQUFLekksS0FBSytJLEdBQ3JEUCxFQUFReEksS0FBSytJLEdBQ2JwQixFQUFNb0IsRUFBUyxJQUFJQSxFQUFTLElBQU0sRUFFbEMsSUFBSWlDLEVBQW9CbEosS0FBS21JLE1BQU1uSSxLQUFLQyxVQUFVOEcsSUFDbEQsTUFBTTRCLEVBQVVmLEVBQVlzQixFQUFtQmpDLEdBQy9DLEdBQUkwQixFQUFTLENBQ1QsSUFBSVEsR0FBVyxFQUNmLElBQUssSUFBSWxLLEVBQUksRUFBR0EsRUFBSTBKLEVBQVEsR0FBRzVKLE9BQVFFLElBQ25DLEdBQWtELElBQTlDNEcsRUFBTThDLEVBQVEsR0FBRzFKLEdBQUcsSUFBSTBKLEVBQVEsR0FBRzFKLEdBQUcsSUFBVyxDQUNqRGtLLEdBQVcsRUFDWCxLQUNKLENBRUFBLEdBQVV2QyxFQUFNMUksS0FBS3lLLEVBQVEsR0FDckMsQ0FFQSxPQUFPLENBQ1gsR0FtRkFTLFlBckNnQkEsS0FDaEIsSUFBS2xCLElBQWlCLE9BQU8sRUFDN0IsSUFBSyxJQUFJakosRUFBSSxFQUFHQSxFQUFJNEcsRUFBTTlHLE9BQVFFLElBQzlCLElBQUssSUFBSTZILEVBQUksRUFBR0EsRUFBSWpCLEVBQU01RyxHQUFHRixPQUFRK0gsSUFDakMsR0FBb0IsSUFBaEJqQixFQUFNNUcsR0FBRzZILEdBQVUsT0FBTyxFQUd0QyxPQUFPLENBQUksRUErQlhvQixnQkFDQWxDLGVBQ0FxRCxnQkF0Qm9CQSxJQUNickosS0FBS21JLE1BQU1uSSxLQUFLQyxVQUFVeUcsSUFzQmpDNEMsYUFuQmlCQSxJQUNWdEosS0FBS21JLE1BQU1uSSxLQUFLQyxVQUFVMEcsSUFtQmpDNEMsY0FoQmtCQSxJQUNYdkosS0FBS21JLE1BQU1uSSxLQUFLQyxVQUFVMkcsSUFnQnBDLEUsd0hDdlBEbkcsRUFBVSxDQUFDLEVBRWZBLEVBQVFnRCxrQkFBb0IsSUFDNUJoRCxFQUFRMEMsY0FBZ0IsSUFFbEIxQyxFQUFRMEIsT0FBUyxTQUFjLEtBQU0sUUFFM0MxQixFQUFRZSxPQUFTLElBQ2pCZixFQUFRK0MsbUJBQXFCLElBRWhCLElBQUksSUFBUy9DLEdBS0osS0FBVyxJQUFRK0ksUUFBUyxJQUFRQSxPLGFDZnRELEVBQVUsQ0FBQyxFQUVmLEVBQVEvRixrQkFBb0IsSUFDNUIsRUFBUU4sY0FBZ0IsSUFFbEIsRUFBUWhCLE9BQVMsU0FBYyxLQUFNLFFBRTNDLEVBQVFYLE9BQVMsSUFDakIsRUFBUWdDLG1CQUFxQixJQUVoQixJQUFJLElBQVMsR0FLSixLQUFXLElBQVFnRyxRQUFTLElBQVFBLE9DeEI5Q0MsTUFDUixNQUFNQyxFQ0FHQyxNQUNULElBQUlsRCxHQUFjLEVBQ2RtRCxHQUFZLEVBQ1pDLEVBQU8sRUFDUEMsRUFBVSxDQUFDdEUsSUFBVUEsS0FDekJzRSxFQUFRLEdBQUdyRSxTQUFTLFlBQ3BCLElBQUlzRSxFQUFTLENBQUNDLEVBQVUsSUFBS0EsRUFBVSxLQUV2QyxNQVVNQyxFQUFVQSxLQUNaTCxHQUFZLEVBQ1puRCxHQUFjLENBQUssRUEwQmpCeUQsRUFBaUJBLEtBQ25CQyxZQUFXLEtBQ1AsSUFBSUMsRUFBZ0JMLEdBQVFGLEVBQU8sR0FBSyxHQUN4Q0MsRUFBUUQsR0FBTWpFLHVCQUF1QndFLEdBQ2pDQSxFQUFjaEIsY0FDZGEsSUFHSkksR0FBWSxHQUNiLElBQUssRUFtQk5BLEVBQWFBLEtBQ2ZSLEdBQVFBLEVBQU8sR0FBSyxFQUNhLGFBQTdCQyxFQUFRRCxHQUFNbEUsWUFBMkJ1RSxHQUFnQixFQU9qRSxNQUFPLENBQ0g5QixVQTVFY0EsS0FDZCxHQUFJM0IsR0FBZW1ELEVBQVcsT0FBTyxLQUNyQ25ELEdBQWMsRUFDZG1ELEdBQVksRUFDWkcsRUFBTyxHQUFHM0IsWUFDVjJCLEVBQU8sR0FBRzNCLFlBQ1Z5QixFQUFPekQsS0FBS0MsTUFBc0IsRUFBaEJELEtBQUtFLFVBQ1UsYUFBN0J3RCxFQUFRRCxHQUFNbEUsWUFBMkJ1RSxHQUFnQixFQXNFN0RELFVBQ0FLLFVBL0RjQSxLQUNkN0QsR0FBYyxFQUNkbUQsR0FBWSxFQUNaRyxFQUFPLEdBQUcxQixhQUNWMEIsRUFBTyxHQUFHMUIsWUFBWSxFQTREdEJrQyxhQXpEaUJBLENBQUMxRSxFQUFPb0IsS0FDekIsS0FBTUUsT0FBT0MsVUFBVXZCLElBQVVBLEdBQVMsR0FBS0EsR0FBUyxHQUFJLE9BQU8sS0FDbkUsSUFBS1ksRUFBYSxPQUFPLEtBQ3pCLEdBQWlDLGFBQTdCcUQsRUFBUUQsR0FBTWxFLFdBQTJCLE9BQU8sS0FDcEQsR0FBSWtFLElBQVNoRSxFQUFPLE9BQU8sS0FDM0IsTUFBTTJFLEVBQXVCVCxFQUFPRixHQUFNUixrQkFBa0J0SyxPQUU1RCxHQURBZ0wsRUFBT0YsR0FBTXRELGNBQWNVLEdBQ3ZCdUQsSUFBeUJULEVBQU9GLEdBQU1SLGtCQUFrQnRLLE9BQVEsQ0FDaEUsR0FBSWdMLEVBQU9GLEdBQU1ULGNBRWIsWUFEQWEsSUFHSkksR0FDSixHQTZDQW5DLGNBOUJrQkEsSUFDWHpCLEVBOEJQZ0UsWUEzQmdCQSxJQUNUYixFQTJCUGMsV0F4QmVBLElBQ1JaLEVBd0JQYSxjQXJCa0JBLElBQ1haLEVBcUJQTSxhQUNBTyxRQWRZQSxJQUNMZixFQWNWLEVEOUZZRixHQUVQa0IsRUFBTSxDQUNSakssS0FBTSxLQUNOa0ssVUFBVyxLQUNYQyxPQUFRLEtBQ1JDLE9BQVEsTUFFTkMsRUFDTSxHQUROQSxFQUVNLEdBYU4vSCxFQUFnQixXQUErQyxJQUE5Q2dJLEVBQUlDLFVBQUFwTSxPQUFBLFFBQUFRLElBQUE0TCxVQUFBLEdBQUFBLFVBQUEsR0FBRyxNQUFPQyxFQUFPRCxVQUFBcE0sT0FBQSxRQUFBUSxJQUFBNEwsVUFBQSxHQUFBQSxVQUFBLEdBQUcsR0FBSUUsRUFBTUYsVUFBQXBNLE9BQUEsUUFBQVEsSUFBQTRMLFVBQUEsR0FBQUEsVUFBQSxHQUFHLEtBQ3hELE1BQU1HLEVBQWEvSSxTQUFTVyxjQUFjZ0ksR0FDMUMsT0FBSUksYUFBc0JDLG1CQUEyQixNQUNqRHZELE1BQU1DLFFBQVFtRCxJQUNkQSxFQUFRSSxTQUFTQyxJQUNZLGlCQUFkQSxHQUNQSCxFQUFXSSxVQUFVQyxJQUFJRixFQUM3QixJQUdKSixhQUFrQk8sYUFBYVAsRUFBT3JJLFlBQVlzSSxHQUMvQ0EsRUFDWCxFQUVNTyxFQUFhQSxDQUFDQyxFQUFPQyxFQUFLVixLQUM1QixJQUFLckQsTUFBTUMsUUFBUThELEdBQU0sT0FBTyxLQUNoQyxLQUFNVixhQUFrQlcsU0FBVSxPQUFPLEtBQ3pDLE9BQVFGLEdBQ0osS0FBSyxFQUNEQyxFQUFJN04sS0FBS2dGLEVBQWMsTUFBTyxDQUFDLE9BQVEsUUFBU21JLElBQ2hELE1BQ0osS0FBSyxFQUNEVSxFQUFJN04sS0FBS2dGLEVBQWMsTUFBTyxDQUFDLE9BQVEsT0FBUW1JLElBQy9DLE1BRUosUUFDSVUsRUFBSTdOLEtBQUtnRixFQUFjLE1BQU8sQ0FBQyxPQUFRLFNBQVVtSSxJQUV6RCxFQU9FWSxFQUFjQSxDQUFDQyxFQUFpQkMsRUFBV2QsS0FFN0MsR0FBd0IsT0FBcEJhLEVBQTBCLE9BQU8sS0FDckMsR0FBK0IsaUJBQXBCQSxFQUE4QixPQUFPLEtBQ2hELElBQUtuSCxPQUFPcUgsT0FBT0YsRUFBaUIsZ0JBQWlCLE9BQU8sS0FFNUQsSUFBS2xFLE1BQU1DLFFBQVFrRSxHQUFZLE9BQU8sS0FDdEMsS0FBTWQsYUFBa0JXLFNBQVUsT0FBTyxLQUV6QyxNQUFNbkcsRUFBUXFHLEVBQWdCbEcsZUFDOUJtRyxFQUFZLEdBQ1osSUFBSyxJQUFJbE4sRUFBSSxFQUFHQSxFQUFJNEcsRUFBTTlHLE9BQVFFLElBQUssQ0FDbkNrTixFQUFVak8sS0FBSyxJQUNmLElBQUssSUFBSTRJLEVBQUksRUFBR0EsRUFBSWpCLEVBQU01RyxHQUFHRixPQUFRK0gsSUFDakMrRSxFQUFXaEcsRUFBTTVHLEdBQUc2SCxHQUFJcUYsRUFBV2QsRUFFM0MsR0FHSixNQUFPLENBQ0hnQixZQWpFZ0JBLEtBMENaeEIsRUFBSWpLLE1BQU1pSyxFQUFJakssS0FBSzBMLGdCQXhDdkJ6QixFQUFJakssS0FBT3NDLEVBQWMsTUFBTyxDQUFDLFFBQVNYLFNBQVNnSyxNQUNuRDFCLEVBQUlDLFVBQVk1SCxFQUFjLE1BQU8sQ0FBQyxjQUFlMkgsRUFBSWpLLE1BQ3pEaUssRUFBSUUsT0FBUzdILEVBQWMsTUFBTyxDQUFDLGFBQWMySCxFQUFJQyxXQUNyREQsRUFBSUcsT0FBUzlILEVBQWMsTUFBTyxDQUFDLGFBQWMySCxFQUFJQyxXQUNyRG1CLEVBQVl2QyxFQUFLaUIsZ0JBQWdCLEdBQUlNLEVBQW1CSixFQUFJRSxRQUM1RGtCLEVBQVl2QyxFQUFLaUIsZ0JBQWdCLEdBQUlNLEVBQW1CSixFQUFJRyxPQUFPLEVBMkRuRTlILGdCQUNBMkksYUFDQUksY0FDSCxFRWpGTXhDLEdBQ1I0QyxhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL0RPTS9ET00tc3R5bGVzLmNzcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc3R5bGVzLmNzcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL1BsYXllci9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL0dhbWVib2FyZC9HYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3N0eWxlcy5jc3M/NDRiMiIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvRE9NL0RPTS1zdHlsZXMuY3NzP2ZmMDYiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL0RPTS9ET00uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL0dhbWUvR2FtZS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYDpyb290IHtcbiAgICAtLWJhdHRsZXNoaXAtYm9hcmQtd2lkdGg6IDQwdnc7XG59XG5cbi5iYXNlIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbn1cblxuLmJvYXJkLWFyZWEge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMiwgYXV0byk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgZ2FwOiAycmVtO1xufVxuXG4uYm9hcmQtb25lLFxuLmJvYXJkLXR3byB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgYXV0byk7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIGF1dG8pO1xuICAgIHdpZHRoOiAyMHJlbTtcbiAgICBoZWlnaHQ6IDIwcmVtO1xuICAgIGdhcDogMC4xMnJlbTtcbn1cblxuLmNlbGwge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xufVxuLmNlbGw6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlY2VjZWM7XG59XG4uY2VsbDphY3RpdmUge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlMmUyZTI7XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvRE9NL0RPTS1zdHlsZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1DQUFtQztJQUNuQyx1QkFBdUI7SUFDdkIsU0FBUztBQUNiOztBQUVBOztJQUVJLGFBQWE7SUFDYixvQ0FBb0M7SUFDcEMsdUNBQXVDO0lBQ3ZDLFlBQVk7SUFDWixhQUFhO0lBQ2IsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0kseUJBQXlCO0FBQzdCO0FBQ0E7SUFDSSx5QkFBeUI7QUFDN0JcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3Qge1xcbiAgICAtLWJhdHRsZXNoaXAtYm9hcmQtd2lkdGg6IDQwdnc7XFxufVxcblxcbi5iYXNlIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxufVxcblxcbi5ib2FyZC1hcmVhIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMiwgYXV0byk7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbiAgICBnYXA6IDJyZW07XFxufVxcblxcbi5ib2FyZC1vbmUsXFxuLmJvYXJkLXR3byB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCBhdXRvKTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIGF1dG8pO1xcbiAgICB3aWR0aDogMjByZW07XFxuICAgIGhlaWdodDogMjByZW07XFxuICAgIGdhcDogMC4xMnJlbTtcXG59XFxuXFxuLmNlbGwge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuLmNlbGw6aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNlY2VjO1xcbn1cXG4uY2VsbDphY3RpdmUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTJlMmUyO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYDpyb290IHtcbiAgICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5uby1zZWxlY3Qge1xuICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTsgICAgLyogaU9TIFNhZmFyaSAqL1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgLyogU2FmYXJpICovXG4gICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lOyAgICAgICAvKiBLb25xdWVyb3IgSFRNTCAqL1xuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgICAgLyogT2xkIHZlcnNpb25zIG9mIEZpcmVmb3ggKi9cbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgICAgIC8qIEludGVybmV0IEV4cGxvcmVyL0VkZ2UgKi9cbiAgICB1c2VyLXNlbGVjdDogbm9uZTsgICAgICAgICAgICAgIC8qIE5vbi1wcmVmaXhlZCB2ZXJzaW9uLCBjdXJyZW50bHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZCBieSBDaHJvbWUsIEVkZ2UsIE9wZXJhIGFuZCBGaXJlZm94ICovXG59XG5cbmgxLCBoMiwgaDMsIGg0LCBoNSwgaDYge1xuICAgIHBhZGRpbmc6IDBweDtcbiAgICBtYXJnaW46IDBweDtcbn1cblxuYm9keSB7XG4gICAgbWFyZ2luOiAwO1xuICAgIG1pbi13aWR0aDogMTAwdnc7XG4gICAgbWluLWhlaWdodDogMTAwdmg7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSwyQkFBMkIsS0FBSyxlQUFlO0lBQy9DLHlCQUF5QixPQUFPLFdBQVc7SUFDM0Msd0JBQXdCLFFBQVEsbUJBQW1CO0lBQ25ELHNCQUFzQixVQUFVLDRCQUE0QjtJQUM1RCxxQkFBcUIsV0FBVywyQkFBMkI7SUFDM0QsaUJBQWlCLGVBQWU7cUZBQ2lEO0FBQ3JGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFNBQVM7SUFDVCxnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIscUJBQXFCO0FBQ3pCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjpyb290IHtcXG4gICAgZm9udC1zaXplOiAyMHB4O1xcbn1cXG5cXG4ubm8tc2VsZWN0IHtcXG4gICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lOyAgICAvKiBpT1MgU2FmYXJpICovXFxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgLyogU2FmYXJpICovXFxuICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsgICAgICAgLyogS29ucXVlcm9yIEhUTUwgKi9cXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgICAgICAgICAvKiBPbGQgdmVyc2lvbnMgb2YgRmlyZWZveCAqL1xcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgICAgIC8qIEludGVybmV0IEV4cGxvcmVyL0VkZ2UgKi9cXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgICAgICAgICAvKiBOb24tcHJlZml4ZWQgdmVyc2lvbiwgY3VycmVudGx5XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkIGJ5IENocm9tZSwgRWRnZSwgT3BlcmEgYW5kIEZpcmVmb3ggKi9cXG59XFxuXFxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNiB7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gICAgbWFyZ2luOiAwcHg7XFxufVxcblxcbmJvZHkge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIG1pbi13aWR0aDogMTAwdnc7XFxuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiY29uc3QgUGxheWVyID0gKCkgPT4ge1xuICAgIGxldCBzdHlsZSA9IFwiTWFudWFsXCI7XG4gICAgbGV0IHByZXZpb3VzSGl0cyA9IFtdO1xuXG4gICAgY29uc3Qgc2V0U3R5bGUgPSAocykgPT4ge1xuICAgICAgICBpZiAocyAhPT0gXCJNYW51YWxcIiAmJiBzICE9PSBcIkNvbXB1dGVyXCIpIHJldHVybjtcbiAgICAgICAgc3R5bGUgPSBzO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRTdHlsZSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH07XG5cbiAgICBjb25zdCB0YWtlQ29tcHV0ZXJUdXJuUmFuZG9tID0gKGJvYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvc3NpYmxlQXR0YWNrcyA9IFtdO1xuICAgICAgICBjb25zdCBib2FyZEFyciA9IGJvYXJkLm9ic2VydmVCb2FyZCgpO1xuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGJvYXJkQXJyLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGJvYXJkQXJyW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkQXJyW3ldW3hdICE9PSAyKSBwb3NzaWJsZUF0dGFja3MucHVzaChbeCwgeV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhbmQgPVxuICAgICAgICAgICAgcG9zc2libGVBdHRhY2tzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlQXR0YWNrcy5sZW5ndGgpXTtcbiAgICAgICAgYm9hcmQucmVjZWl2ZUF0dGFjayhyYW5kKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0U3R5bGUsXG4gICAgICAgIGdldFN0eWxlLFxuICAgICAgICB0YWtlQ29tcHV0ZXJUdXJuUmFuZG9tLFxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgUGxheWVyO1xuIiwiY29uc3QgR2FtZWJvYXJkID0gKHMpID0+IHtcbiAgICBsZXQgc2l6ZSA9IHM7XG4gICAgbGV0IGdhbWVTdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IGF0dGFja3MgPSBbXTtcbiAgICBsZXQgaGl0cyA9IFtdO1xuICAgIGxldCBzaW5rcyA9IFtdO1xuXG4gICAgY29uc3QgZ2VuZXJhdGVCb2FyZCA9ICgpID0+IHtcbiAgICAgICAgbGV0IGJvYXJkID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBib2FyZC5wdXNoKFtdKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgYm9hcmRbaV0ucHVzaCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm9hcmQ7XG4gICAgfTtcbiAgICBsZXQgYm9hcmQgPSBnZW5lcmF0ZUJvYXJkKCk7XG4gICAgbGV0IHN0YXJ0aW5nQm9hcmQgPSBudWxsO1xuXG4gICAgY29uc3Qgc3RhcnRHYW1lID0gKCkgPT4ge1xuICAgICAgICBnYW1lU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHN0YXJ0aW5nQm9hcmQgPSBvYnNlcnZlQm9hcmQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXRCb2FyZCA9ICgpID0+IHtcbiAgICAgICAgYm9hcmQgPSBnZW5lcmF0ZUJvYXJkKCk7XG4gICAgICAgIHN0YXJ0aW5nQm9hcmQgPSBudWxsO1xuICAgICAgICBnYW1lU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBhdHRhY2tzID0gW107XG4gICAgICAgIGhpdHMgPSBbXTtcbiAgICAgICAgc2lua3MgPSBbXTtcbiAgICB9O1xuXG4gICAgY29uc3QgcGxhY2VTaGlwID0gKGxlbmd0aCwgcG9zaXRpb24sIHJvdGF0aW9uKSA9PiB7XG4gICAgICAgIGlmIChpc0dhbWVTdGFydGVkKCkpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodmFsaWRhdGVTaGlwUG9zaXRpb24oYm9hcmQsIGxlbmd0aCwgcG9zaXRpb24sIHJvdGF0aW9uKSkge1xuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gY2FsY3VsYXRlU2hpcEFyZWEobGVuZ3RoLCBwb3NpdGlvbiwgcm90YXRpb24pO1xuICAgICAgICAgICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGJvdW5kc1swXVsxXTsgaiA8PSBib3VuZHNbMV1bMV07IGorKykge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFtqXVtwb3NpdGlvblswXV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGJvdW5kc1swXVswXTsgaSA8PSBib3VuZHNbMV1bMF07IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFtwb3NpdGlvblsxXV1baV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBtb3ZlU2hpcCA9IChvcmlnUG9zLCBkZXN0UG9zLCByb3RhdGlvbikgPT4ge1xuICAgICAgICBpZiAoaXNHYW1lU3RhcnRlZCgpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUNvb3JkaW5hdGVJbnB1dChvcmlnUG9zKSkgcmV0dXJuO1xuICAgICAgICBpZiAoIXZhbGlkYXRlQ29vcmRpbmF0ZUlucHV0KGRlc3RQb3MpKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlb2Ygcm90YXRpb24gIT09IFwiYm9vbGVhblwiKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbGV0IGJvYXJkQ29weSA9IG9ic2VydmVCb2FyZCgpO1xuICAgICAgICBjb25zdCBnZXRTaGlwID0gZXh0cmFjdFNoaXAoYm9hcmRDb3B5LCBvcmlnUG9zKTtcbiAgICAgICAgaWYgKCFnZXRTaGlwKSByZXR1cm47XG4gICAgICAgIGJvYXJkQ29weSA9IGdldFNoaXBbMF07XG4gICAgICAgIGNvbnN0IHNoaXAgPSBnZXRTaGlwWzFdO1xuXG4gICAgICAgIGxldCBjdXJyUm90ID0gZmFsc2U7XG4gICAgICAgIGlmIChzaGlwLmxlbmd0aCA+IDIgJiYgc2hpcFswXVsxXSAhPT0gc2hpcFsxXVsxXSkgY3VyclJvdCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgbWlkZGxlSW5kZXggPSBNYXRoLmNlaWwoKHNoaXAubGVuZ3RoIC0gMSkgLyAyKTtcbiAgICAgICAgbGV0IG1pZGRsZVBvcyA9IFtdO1xuICAgICAgICBpZiAoY3VyclJvdCkgc2hpcC5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSk7XG4gICAgICAgIGVsc2Ugc2hpcC5zb3J0KChhLCBiKSA9PiBhWzBdIC0gYlswXSk7XG4gICAgICAgIG1pZGRsZVBvcyA9IHNoaXBbbWlkZGxlSW5kZXhdO1xuXG4gICAgICAgIGlmIChyb3RhdGlvbikgY3VyclJvdCA9ICFjdXJyUm90O1xuXG4gICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgZGVzdFBvc1swXSArPSBtaWRkbGVQb3NbMV0gLSBvcmlnUG9zWzFdO1xuICAgICAgICAgICAgZGVzdFBvc1sxXSArPSBtaWRkbGVQb3NbMF0gLSBvcmlnUG9zWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVzdFBvc1swXSArPSBtaWRkbGVQb3NbMF0gLSBvcmlnUG9zWzBdO1xuICAgICAgICAgICAgZGVzdFBvc1sxXSArPSBtaWRkbGVQb3NbMV0gLSBvcmlnUG9zWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbGlkYXRlU2hpcFBvc2l0aW9uKGJvYXJkQ29weSwgc2hpcC5sZW5ndGgsIGRlc3RQb3MsIGN1cnJSb3QpKSB7XG4gICAgICAgICAgICBib2FyZCA9IGJvYXJkQ29weTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyUm90KSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkW2Rlc3RQb3NbMV0gKyAoaSAtIG1pZGRsZUluZGV4KV1bZGVzdFBvc1swXV0gPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkW2Rlc3RQb3NbMV1dW2Rlc3RQb3NbMF0gKyAoaSAtIG1pZGRsZUluZGV4KV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVNoaXBQb3NpdGlvbiA9IChib2FyZCwgbGVuZ3RoLCBwb3NpdGlvbiwgcm90YXRpb24pID0+IHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGxlbmd0aCkgfHwgbGVuZ3RoIDwgMSB8fCBsZW5ndGggPiBib2FyZC5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghdmFsaWRhdGVDb29yZGluYXRlSW5wdXQocG9zaXRpb24pKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2Ygcm90YXRpb24gIT09IFwiYm9vbGVhblwiKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgYm91bmRzID0gY2FsY3VsYXRlU2hpcEFyZWEobGVuZ3RoLCBwb3NpdGlvbiwgcm90YXRpb24pO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGJvdW5kc1swXVswXSA8IDAgfHxcbiAgICAgICAgICAgIGJvdW5kc1swXVswXSA+PSBib2FyZC5sZW5ndGggfHxcbiAgICAgICAgICAgIGJvdW5kc1swXVsxXSA8IDAgfHxcbiAgICAgICAgICAgIGJvdW5kc1swXVsxXSA+PSBib2FyZC5sZW5ndGggfHxcbiAgICAgICAgICAgIGJvdW5kc1sxXVswXSA8IDAgfHxcbiAgICAgICAgICAgIGJvdW5kc1sxXVswXSA+PSBib2FyZC5sZW5ndGggfHxcbiAgICAgICAgICAgIGJvdW5kc1sxXVsxXSA8IDAgfHxcbiAgICAgICAgICAgIGJvdW5kc1sxXVsxXSA+PSBib2FyZC5sZW5ndGhcbiAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBib3VuZHNbMF1bMF0gLSAxOyBpIDw9IGJvdW5kc1sxXVswXSArIDE7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IC0xIHx8IGkgPT09IGJvYXJkLmxlbmd0aCkgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gYm91bmRzWzBdWzFdIC0gMTsgaiA8PSBib3VuZHNbMV1bMV0gKyAxOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gLTEgfHwgaiA9PT0gYm9hcmQubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRbal1baV0gIT09IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVTaGlwID0gKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGlmIChpc0dhbWVTdGFydGVkKCkpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIXZhbGlkYXRlQ29vcmRpbmF0ZUlucHV0KHBvc2l0aW9uKSkgcmV0dXJuO1xuXG4gICAgICAgIGV4dHJhY3RTaGlwKGJvYXJkLCBwb3NpdGlvbik7XG4gICAgfTtcblxuICAgIGNvbnN0IGNhbGN1bGF0ZVNoaXBBcmVhID0gKGxlbmd0aCwgcG9zaXRpb24sIHJvdGF0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGxlbmd0aEJlaGluZCA9IE1hdGguYWJzKE1hdGguZmxvb3IoKGxlbmd0aCAtIDEpIC8gMikpO1xuICAgICAgICBjb25zdCBsZW5ndGhJbmZyb250ID0gTWF0aC5hYnMoTWF0aC5jZWlsKChsZW5ndGggLSAxKSAvIDIpKTtcbiAgICAgICAgaWYgKHJvdGF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdIC0gbGVuZ3RoQmVoaW5kXSxcbiAgICAgICAgICAgICAgICBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdICsgbGVuZ3RoSW5mcm9udF0sXG4gICAgICAgICAgICBdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIFtwb3NpdGlvblswXSAtIGxlbmd0aEJlaGluZCwgcG9zaXRpb25bMV1dLFxuICAgICAgICAgICAgICAgIFtwb3NpdGlvblswXSArIGxlbmd0aEluZnJvbnQsIHBvc2l0aW9uWzFdXSxcbiAgICAgICAgICAgIF07XG4gICAgfTtcblxuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAocG9zaXRpb24pID0+IHtcbiAgICAgICAgaWYgKCFpc0dhbWVTdGFydGVkKCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUNvb3JkaW5hdGVJbnB1dChwb3NpdGlvbikpIHJldHVybjtcblxuICAgICAgICBpZiAoYm9hcmRbcG9zaXRpb25bMV1dW3Bvc2l0aW9uWzBdXSAhPT0gMikge1xuICAgICAgICAgICAgaWYgKGJvYXJkW3Bvc2l0aW9uWzFdXVtwb3NpdGlvblswXV0gPT09IDEpIGhpdHMucHVzaChwb3NpdGlvbik7XG4gICAgICAgICAgICBhdHRhY2tzLnB1c2gocG9zaXRpb24pO1xuICAgICAgICAgICAgYm9hcmRbcG9zaXRpb25bMV1dW3Bvc2l0aW9uWzBdXSA9IDI7XG5cbiAgICAgICAgICAgIGxldCBzdGFydGluZ0JvYXJkQ29weSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhcnRpbmdCb2FyZCkpO1xuICAgICAgICAgICAgY29uc3QgZ2V0U2hpcCA9IGV4dHJhY3RTaGlwKHN0YXJ0aW5nQm9hcmRDb3B5LCBwb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAoZ2V0U2hpcCkge1xuICAgICAgICAgICAgICAgIGxldCBzaGlwU3VuayA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZXRTaGlwWzFdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZFtnZXRTaGlwWzFdW2ldWzFdXVtnZXRTaGlwWzFdW2ldWzBdXSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hpcFN1bmsgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaGlwU3Vuaykgc2lua3MucHVzaChnZXRTaGlwWzFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZXh0cmFjdFNoaXAgPSAoYm9hcmQsIHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGlmIChib2FyZFtwb3NpdGlvblsxXV1bcG9zaXRpb25bMF1dICE9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzaGlwID0gW107XG4gICAgICAgICAgICBjb25zdCBuZWFyZXN0TmVpZ2hib3VyID0gKHBvcykgPT4ge1xuICAgICAgICAgICAgICAgIHNoaXAucHVzaChwb3MpO1xuICAgICAgICAgICAgICAgIGJvYXJkW3Bvc1sxXV1bcG9zWzBdXSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHBvc1sxXSA+IDAgJiYgYm9hcmRbcG9zWzFdIC0gMV1bcG9zWzBdXSAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgbmVhcmVzdE5laWdoYm91cihbcG9zWzBdLCBwb3NbMV0gLSAxXSk7XG4gICAgICAgICAgICAgICAgaWYgKHBvc1swXSA+IDAgJiYgYm9hcmRbcG9zWzFdXVtwb3NbMF0gLSAxXSAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgbmVhcmVzdE5laWdoYm91cihbcG9zWzBdIC0gMSwgcG9zWzFdXSk7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBwb3NbMV0gPCBib2FyZC5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkW3Bvc1sxXSArIDFdW3Bvc1swXV0gIT09IDBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3ROZWlnaGJvdXIoW3Bvc1swXSwgcG9zWzFdICsgMV0pO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgcG9zWzBdIDwgYm9hcmQubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgICAgICAgICAgICBib2FyZFtwb3NbMV1dW3Bvc1swXSArIDFdICE9PSAwXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBuZWFyZXN0TmVpZ2hib3VyKFtwb3NbMF0gKyAxLCBwb3NbMV1dKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuZWFyZXN0TmVpZ2hib3VyKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBbYm9hcmQsIHNoaXBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZUNvb3JkaW5hdGVJbnB1dCA9IChwb3NpdGlvbikgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHBvc2l0aW9uKSAmJlxuICAgICAgICAgICAgcG9zaXRpb24ubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgICBOdW1iZXIuaXNJbnRlZ2VyKHBvc2l0aW9uWzBdKSAmJlxuICAgICAgICAgICAgcG9zaXRpb25bMF0gPj0gMCAmJlxuICAgICAgICAgICAgcG9zaXRpb25bMF0gPCBib2FyZC5sZW5ndGggJiZcbiAgICAgICAgICAgIE51bWJlci5pc0ludGVnZXIocG9zaXRpb25bMV0pICYmXG4gICAgICAgICAgICBwb3NpdGlvblsxXSA+PSAwICYmXG4gICAgICAgICAgICBwb3NpdGlvblsxXSA8IGJvYXJkLmxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2hlY2tEZWZlYXQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghaXNHYW1lU3RhcnRlZCgpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYm9hcmRbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRbaV1bal0gPT09IDEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNHYW1lU3RhcnRlZCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGdhbWVTdGFydGVkO1xuICAgIH07XG5cbiAgICBjb25zdCBvYnNlcnZlQm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJvYXJkKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHByZXZpb3VzQXR0YWNrcyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXR0YWNrcykpO1xuICAgIH07XG5cbiAgICBjb25zdCBwcmV2aW91c0hpdHMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGhpdHMpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcHJldmlvdXNTaW5rcyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2lua3MpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnRHYW1lLFxuICAgICAgICByZXNldEJvYXJkLFxuICAgICAgICBwbGFjZVNoaXAsXG4gICAgICAgIG1vdmVTaGlwLFxuICAgICAgICBkZWxldGVTaGlwLFxuICAgICAgICByZWNlaXZlQXR0YWNrLFxuICAgICAgICBjaGVja0RlZmVhdCxcbiAgICAgICAgaXNHYW1lU3RhcnRlZCxcbiAgICAgICAgb2JzZXJ2ZUJvYXJkLFxuICAgICAgICBwcmV2aW91c0F0dGFja3MsXG4gICAgICAgIHByZXZpb3VzSGl0cyxcbiAgICAgICAgcHJldmlvdXNTaW5rcyxcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IEdhbWVib2FyZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0RPTS1zdHlsZXMuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9ET00tc3R5bGVzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCBHYW1lIGZyb20gXCIuLy4uL0dhbWUvR2FtZVwiO1xuXG5jb25zdCBET00gPSAoKSA9PiB7XG4gICAgY29uc3QgZ2FtZSA9IEdhbWUoKTtcblxuICAgIGNvbnN0IGVsZSA9IHtcbiAgICAgICAgYmFzZTogbnVsbCxcbiAgICAgICAgYm9hcmRBcmVhOiBudWxsLFxuICAgICAgICBib2FyZDE6IG51bGwsXG4gICAgICAgIGJvYXJkMjogbnVsbCxcbiAgICB9O1xuICAgIGNvbnN0IGJvYXJkQ2VsbHMgPSB7XG4gICAgICAgIGJvYXJkMTogW10sXG4gICAgICAgIGJvYXJkMjogW10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRpc3BsYXlHYW1lID0gKCkgPT4ge1xuICAgICAgICBjbGVhckRpc3BsYXkoKTtcbiAgICAgICAgZWxlLmJhc2UgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJhc2VcIl0sIGRvY3VtZW50LmJvZHkpO1xuICAgICAgICBlbGUuYm9hcmRBcmVhID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJib2FyZC1hcmVhXCJdLCBlbGUuYmFzZSk7XG4gICAgICAgIGVsZS5ib2FyZDEgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJvYXJkLW9uZVwiXSwgZWxlLmJvYXJkQXJlYSk7XG4gICAgICAgIGVsZS5ib2FyZDIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJvYXJkLXR3b1wiXSwgZWxlLmJvYXJkQXJlYSk7XG4gICAgICAgIGNyZWF0ZUJvYXJkKGdhbWUuZ2V0R2FtZWJvYXJkcygpWzBdLCBib2FyZENlbGxzLmJvYXJkMSwgZWxlLmJvYXJkMSk7XG4gICAgICAgIGNyZWF0ZUJvYXJkKGdhbWUuZ2V0R2FtZWJvYXJkcygpWzFdLCBib2FyZENlbGxzLmJvYXJkMiwgZWxlLmJvYXJkMik7XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAodHlwZSA9IFwiZGl2XCIsIGNsYXNzZXMgPSBbXSwgcGFyZW50ID0gbnVsbCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgaWYgKG5ld0VsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVW5rbm93bkVsZW1lbnQpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjbGFzc2VzKSkge1xuICAgICAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKChjbGFzc05hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHBhcmVudC5hcHBlbmRDaGlsZChuZXdFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUNlbGwgPSAodmFsdWUsIGFyciwgcGFyZW50KSA9PiB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCEocGFyZW50IGluc3RhbmNlb2YgRWxlbWVudCkpIHJldHVybiBudWxsO1xuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJjZWxsXCIsIFwic2hpcFwiXSwgcGFyZW50KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJjZWxsXCIsIFwiaGl0XCJdLCBwYXJlbnQpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJjZWxsXCIsIFwiZW1wdHlcIl0sIHBhcmVudCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyRGlzcGxheSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGVsZS5iYXNlKSBlbGUuYmFzZS5yZW1vdmVFbGVtZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUJvYXJkID0gKGdhbWVib2FyZE1vZHVsZSwgY2VsbEFycmF5LCBwYXJlbnQpID0+IHtcbiAgICAgICAgLyogRHVjay10eXBlZCBHYW1lYm9hcmQgbW9kdWxlIGNoZWNrICovXG4gICAgICAgIGlmIChnYW1lYm9hcmRNb2R1bGUgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGdhbWVib2FyZE1vZHVsZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghT2JqZWN0Lmhhc093bihnYW1lYm9hcmRNb2R1bGUsIFwib2JzZXJ2ZUJvYXJkXCIpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2VsbEFycmF5KSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghKHBhcmVudCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCBib2FyZCA9IGdhbWVib2FyZE1vZHVsZS5vYnNlcnZlQm9hcmQoKTtcbiAgICAgICAgY2VsbEFycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNlbGxBcnJheS5wdXNoKFtdKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYm9hcmRbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVDZWxsKGJvYXJkW2ldW2pdLCBjZWxsQXJyYXksIHBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzcGxheUdhbWUsXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQsXG4gICAgICAgIGNyZWF0ZUNlbGwsXG4gICAgICAgIGNyZWF0ZUJvYXJkLFxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgRE9NO1xuIiwiaW1wb3J0IFBsYXllciBmcm9tIFwiLi8uLi9QbGF5ZXIvUGxheWVyXCI7XG5pbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuLi9HYW1lYm9hcmQvR2FtZWJvYXJkXCI7XG5cbmNvbnN0IEdhbWUgPSAoKSA9PiB7XG4gICAgbGV0IGdhbWVTdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IGdhbWVFbmRlZCA9IGZhbHNlO1xuICAgIGxldCB0dXJuID0gMDtcbiAgICBsZXQgcGxheWVycyA9IFtQbGF5ZXIoKSwgUGxheWVyKCldO1xuICAgIHBsYXllcnNbMV0uc2V0U3R5bGUoXCJDb21wdXRlclwiKTtcbiAgICBsZXQgYm9hcmRzID0gW0dhbWVib2FyZCgxMCksIEdhbWVib2FyZCgxMCldO1xuXG4gICAgY29uc3Qgc3RhcnRHYW1lID0gKCkgPT4ge1xuICAgICAgICBpZiAoZ2FtZVN0YXJ0ZWQgfHwgZ2FtZUVuZGVkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBnYW1lRW5kZWQgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRzWzBdLnN0YXJ0R2FtZSgpO1xuICAgICAgICBib2FyZHNbMV0uc3RhcnRHYW1lKCk7XG4gICAgICAgIHR1cm4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcbiAgICAgICAgaWYgKHBsYXllcnNbdHVybl0uZ2V0U3R5bGUoKSA9PT0gXCJDb21wdXRlclwiKSBjb21wdXRlckF0dGFjaygpO1xuICAgIH07XG5cbiAgICBjb25zdCBlbmRHYW1lID0gKCkgPT4ge1xuICAgICAgICBnYW1lRW5kZWQgPSB0cnVlO1xuICAgICAgICBnYW1lU3RhcnRlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldEdhbWUgPSAoKSA9PiB7XG4gICAgICAgIGdhbWVTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGdhbWVFbmRlZCA9IGZhbHNlO1xuICAgICAgICBib2FyZHNbMF0ucmVzZXRCb2FyZCgpO1xuICAgICAgICBib2FyZHNbMV0ucmVzZXRCb2FyZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBtYW51YWxBdHRhY2sgPSAoYm9hcmQsIHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGlmICghKE51bWJlci5pc0ludGVnZXIoYm9hcmQpICYmIGJvYXJkID49IDAgJiYgYm9hcmQgPD0gMSkpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIWdhbWVTdGFydGVkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHBsYXllcnNbdHVybl0uZ2V0U3R5bGUoKSA9PT0gXCJDb21wdXRlclwiKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHR1cm4gPT09IGJvYXJkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgcHJldmlvdXNBdHRhY2tzQ291bnQgPSBib2FyZHNbdHVybl0ucHJldmlvdXNBdHRhY2tzKCkubGVuZ3RoO1xuICAgICAgICBib2FyZHNbdHVybl0ucmVjZWl2ZUF0dGFjayhwb3NpdGlvbik7XG4gICAgICAgIGlmIChwcmV2aW91c0F0dGFja3NDb3VudCAhPT0gYm9hcmRzW3R1cm5dLnByZXZpb3VzQXR0YWNrcygpLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGJvYXJkc1t0dXJuXS5jaGVja0RlZmVhdCgpKSB7XG4gICAgICAgICAgICAgICAgZW5kR2FtZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZVR1cm4oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjb21wdXRlckF0dGFjayA9ICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgYm9hcmRUb0F0dGFjayA9IGJvYXJkc1sodHVybiArIDEpICUgMl07XG4gICAgICAgICAgICBwbGF5ZXJzW3R1cm5dLnRha2VDb21wdXRlclR1cm5SYW5kb20oYm9hcmRUb0F0dGFjayk7XG4gICAgICAgICAgICBpZiAoYm9hcmRUb0F0dGFjay5jaGVja0RlZmVhdCgpKSB7XG4gICAgICAgICAgICAgICAgZW5kR2FtZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZVR1cm4oKTtcbiAgICAgICAgfSwgMzAwMCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzR2FtZVN0YXJ0ZWQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBnYW1lU3RhcnRlZDtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNHYW1lRW5kZWQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBnYW1lRW5kZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFBsYXllcnMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBwbGF5ZXJzO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRHYW1lYm9hcmRzID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gYm9hcmRzO1xuICAgIH07XG5cbiAgICBjb25zdCBjaGFuZ2VUdXJuID0gKCkgPT4ge1xuICAgICAgICB0dXJuID0gKHR1cm4gKyAxKSAlIDI7XG4gICAgICAgIGlmIChwbGF5ZXJzW3R1cm5dLmdldFN0eWxlKCkgPT09IFwiQ29tcHV0ZXJcIikgY29tcHV0ZXJBdHRhY2soKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0VHVybiA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHR1cm47XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0R2FtZSxcbiAgICAgICAgZW5kR2FtZSxcbiAgICAgICAgcmVzZXRHYW1lLFxuICAgICAgICBtYW51YWxBdHRhY2ssXG4gICAgICAgIGlzR2FtZVN0YXJ0ZWQsXG4gICAgICAgIGlzR2FtZUVuZGVkLFxuICAgICAgICBnZXRQbGF5ZXJzLFxuICAgICAgICBnZXRHYW1lYm9hcmRzLFxuICAgICAgICBjaGFuZ2VUdXJuLFxuICAgICAgICBnZXRUdXJuLFxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgR2FtZTtcbiIsImltcG9ydCBET00gZnJvbSBcIi4vRE9NL0RPTVwiO1xuaW1wb3J0IFwiLi9zdHlsZXMuY3NzXCI7XG5pbXBvcnQgXCIuL0RPTS9ET00tc3R5bGVzLmNzc1wiO1xuXG5jb25zdCBVSSA9IERPTSgpO1xuVUkuZGlzcGxheUdhbWUoKTtcbiJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJQbGF5ZXIiLCJzZXRTdHlsZSIsInMiLCJnZXRTdHlsZSIsInRha2VDb21wdXRlclR1cm5SYW5kb20iLCJib2FyZCIsInBvc3NpYmxlQXR0YWNrcyIsImJvYXJkQXJyIiwib2JzZXJ2ZUJvYXJkIiwieSIsIngiLCJyYW5kIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmVjZWl2ZUF0dGFjayIsInNpemUiLCJnYW1lU3RhcnRlZCIsImF0dGFja3MiLCJoaXRzIiwic2lua3MiLCJnZW5lcmF0ZUJvYXJkIiwiaiIsInN0YXJ0aW5nQm9hcmQiLCJ2YWxpZGF0ZVNoaXBQb3NpdGlvbiIsInBvc2l0aW9uIiwicm90YXRpb24iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJ2YWxpZGF0ZUNvb3JkaW5hdGVJbnB1dCIsImJvdW5kcyIsImNhbGN1bGF0ZVNoaXBBcmVhIiwibGVuZ3RoQmVoaW5kIiwiYWJzIiwibGVuZ3RoSW5mcm9udCIsImNlaWwiLCJleHRyYWN0U2hpcCIsInNoaXAiLCJuZWFyZXN0TmVpZ2hib3VyIiwicG9zIiwiQXJyYXkiLCJpc0FycmF5IiwiaXNHYW1lU3RhcnRlZCIsInBhcnNlIiwic3RhcnRHYW1lIiwicmVzZXRCb2FyZCIsInBsYWNlU2hpcCIsIm1vdmVTaGlwIiwib3JpZ1BvcyIsImRlc3RQb3MiLCJib2FyZENvcHkiLCJnZXRTaGlwIiwiY3VyclJvdCIsIm1pZGRsZUluZGV4IiwibWlkZGxlUG9zIiwic29ydCIsImIiLCJkZWxldGVTaGlwIiwic3RhcnRpbmdCb2FyZENvcHkiLCJzaGlwU3VuayIsImNoZWNrRGVmZWF0IiwicHJldmlvdXNBdHRhY2tzIiwicHJldmlvdXNIaXRzIiwicHJldmlvdXNTaW5rcyIsImxvY2FscyIsIkRPTSIsImdhbWUiLCJHYW1lIiwiZ2FtZUVuZGVkIiwidHVybiIsInBsYXllcnMiLCJib2FyZHMiLCJHYW1lYm9hcmQiLCJlbmRHYW1lIiwiY29tcHV0ZXJBdHRhY2siLCJzZXRUaW1lb3V0IiwiYm9hcmRUb0F0dGFjayIsImNoYW5nZVR1cm4iLCJyZXNldEdhbWUiLCJtYW51YWxBdHRhY2siLCJwcmV2aW91c0F0dGFja3NDb3VudCIsImlzR2FtZUVuZGVkIiwiZ2V0UGxheWVycyIsImdldEdhbWVib2FyZHMiLCJnZXRUdXJuIiwiZWxlIiwiYm9hcmRBcmVhIiwiYm9hcmQxIiwiYm9hcmQyIiwiYm9hcmRDZWxscyIsInR5cGUiLCJhcmd1bWVudHMiLCJjbGFzc2VzIiwicGFyZW50IiwibmV3RWxlbWVudCIsIkhUTUxVbmtub3duRWxlbWVudCIsImZvckVhY2giLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJIVE1MRWxlbWVudCIsImNyZWF0ZUNlbGwiLCJ2YWx1ZSIsImFyciIsIkVsZW1lbnQiLCJjcmVhdGVCb2FyZCIsImdhbWVib2FyZE1vZHVsZSIsImNlbGxBcnJheSIsImhhc093biIsImRpc3BsYXlHYW1lIiwicmVtb3ZlRWxlbWVudCIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9
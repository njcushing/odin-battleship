(()=>{"use strict";var e={786:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(537),a=t.n(r),o=t(645),l=t.n(o)()(a());l.push([e.id,":root {\n    --battleship-board-size: 20rem;\n}\n\n.btls-base {\n    border: 1px solid black;\n}\n\n.btls-title {\n    font-size: 3rem;\n    text-align: center;\n}\n\n.btls-board-area {\n    grid-area: 1 / 1 / 2 / -1;\n    display: grid;\n    grid-template-rows:  auto var(--battleship-board-size, 24rem) auto 4rem auto var(--battleship-board-size, 24rem) auto;\n    grid-template-columns: auto var(--battleship-board-size, 24rem);\n    padding: 0.5rem;\n}\n\n.btls-board-one,\n.btls-board-two {\n    display: grid;\n    grid-template-rows: repeat(10, auto);\n    grid-template-columns: repeat(10, auto);\n    padding: 0.5rem;\n    gap: 0.12rem;\n}\n\n.btls-axis-1-x,\n.btls-axis-1-y,\n.btls-axis-2-x,\n.btls-axis-2-y {\n    display: flex;\n    justify-content: space-around;\n    text-align: center;\n    vertical-align: center;\n}\n\n.btls-board-one {\n    grid-area: -3 / -2 / -2 / -1;\n}\n.btls-axis-1-x {\n    grid-area: -2 / -2 / -1 / -1;\n    padding: 0rem 0.5rem;\n}\n.btls-axis-1-y {\n    grid-area: -3 / 1 / -2 / 2;\n    flex-direction: column;\n    padding: 0.5rem 0rem;\n}\n.btls-board-two {\n    grid-area: 2 / -2 / 3 / -1;\n}\n.btls-axis-2-x {\n    grid-area: 1 / -2 / 2 / -1;\n    padding: 0rem 0.5rem;\n}\n.btls-axis-2-y {\n    grid-area: 2 / 1 / 3 / 2;\n    flex-direction: column;\n    padding: 0.5rem 0rem;\n}\n\n.btls-axis-no {\n    padding: 0rem;\n    margin: 0rem;\n}\n\n.btls-b1-id,\n.btls-b2-id {\n    font-size: 0.8rem;\n    text-align: center;\n    vertical-align: center;\n}\n\n.btls-b1-id {\n    grid-area: -4 / -2 / -3 / -1;\n}\n.btls-b2-id {\n    grid-area: 3 / -2 / 4 / -1;\n}\n\n.btls-info-box {\n    grid-area: -5 / -2 / -4 / -1;\n    display: flex;\n    flex-direction: column;\n    place-content: center;\n    align-items: center;\n    text-align: center;\n    padding: 0.5rem;\n}\n\n.btls-buttons {\n    grid-area: 2 / 1 / 3 / -1;\n    display: flex;\n    justify-content: center;\n    gap: 1rem;\n    padding: 0.5rem;\n}\n\n.btls-cell {\n    border: 1px solid black;\n}\n.btls-cell:hover {\n    background-color: #ececec;\n}\n.btls-cell:active {\n    background-color: #e2e2e2;\n}\n\n.btls-cell .empty {\n    background-color: rgb(255, 255, 255);\n}\n.btls-cell .ship {\n    background-color: rgb(50, 171, 187);\n}\n.btls-cell.hit {\n    background-color: rgb(184, 112, 112);\n}","",{version:3,sources:["webpack://./src/DOM/DOM-styles.css"],names:[],mappings:"AAAA;IACI,8BAA8B;AAClC;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,yBAAyB;IACzB,aAAa;IACb,qHAAqH;IACrH,+DAA+D;IAC/D,eAAe;AACnB;;AAEA;;IAEI,aAAa;IACb,oCAAoC;IACpC,uCAAuC;IACvC,eAAe;IACf,YAAY;AAChB;;AAEA;;;;IAII,aAAa;IACb,6BAA6B;IAC7B,kBAAkB;IAClB,sBAAsB;AAC1B;;AAEA;IACI,4BAA4B;AAChC;AACA;IACI,4BAA4B;IAC5B,oBAAoB;AACxB;AACA;IACI,0BAA0B;IAC1B,sBAAsB;IACtB,oBAAoB;AACxB;AACA;IACI,0BAA0B;AAC9B;AACA;IACI,0BAA0B;IAC1B,oBAAoB;AACxB;AACA;IACI,wBAAwB;IACxB,sBAAsB;IACtB,oBAAoB;AACxB;;AAEA;IACI,aAAa;IACb,YAAY;AAChB;;AAEA;;IAEI,iBAAiB;IACjB,kBAAkB;IAClB,sBAAsB;AAC1B;;AAEA;IACI,4BAA4B;AAChC;AACA;IACI,0BAA0B;AAC9B;;AAEA;IACI,4BAA4B;IAC5B,aAAa;IACb,sBAAsB;IACtB,qBAAqB;IACrB,mBAAmB;IACnB,kBAAkB;IAClB,eAAe;AACnB;;AAEA;IACI,yBAAyB;IACzB,aAAa;IACb,uBAAuB;IACvB,SAAS;IACT,eAAe;AACnB;;AAEA;IACI,uBAAuB;AAC3B;AACA;IACI,yBAAyB;AAC7B;AACA;IACI,yBAAyB;AAC7B;;AAEA;IACI,oCAAoC;AACxC;AACA;IACI,mCAAmC;AACvC;AACA;IACI,oCAAoC;AACxC",sourcesContent:[":root {\n    --battleship-board-size: 20rem;\n}\n\n.btls-base {\n    border: 1px solid black;\n}\n\n.btls-title {\n    font-size: 3rem;\n    text-align: center;\n}\n\n.btls-board-area {\n    grid-area: 1 / 1 / 2 / -1;\n    display: grid;\n    grid-template-rows:  auto var(--battleship-board-size, 24rem) auto 4rem auto var(--battleship-board-size, 24rem) auto;\n    grid-template-columns: auto var(--battleship-board-size, 24rem);\n    padding: 0.5rem;\n}\n\n.btls-board-one,\n.btls-board-two {\n    display: grid;\n    grid-template-rows: repeat(10, auto);\n    grid-template-columns: repeat(10, auto);\n    padding: 0.5rem;\n    gap: 0.12rem;\n}\n\n.btls-axis-1-x,\n.btls-axis-1-y,\n.btls-axis-2-x,\n.btls-axis-2-y {\n    display: flex;\n    justify-content: space-around;\n    text-align: center;\n    vertical-align: center;\n}\n\n.btls-board-one {\n    grid-area: -3 / -2 / -2 / -1;\n}\n.btls-axis-1-x {\n    grid-area: -2 / -2 / -1 / -1;\n    padding: 0rem 0.5rem;\n}\n.btls-axis-1-y {\n    grid-area: -3 / 1 / -2 / 2;\n    flex-direction: column;\n    padding: 0.5rem 0rem;\n}\n.btls-board-two {\n    grid-area: 2 / -2 / 3 / -1;\n}\n.btls-axis-2-x {\n    grid-area: 1 / -2 / 2 / -1;\n    padding: 0rem 0.5rem;\n}\n.btls-axis-2-y {\n    grid-area: 2 / 1 / 3 / 2;\n    flex-direction: column;\n    padding: 0.5rem 0rem;\n}\n\n.btls-axis-no {\n    padding: 0rem;\n    margin: 0rem;\n}\n\n.btls-b1-id,\n.btls-b2-id {\n    font-size: 0.8rem;\n    text-align: center;\n    vertical-align: center;\n}\n\n.btls-b1-id {\n    grid-area: -4 / -2 / -3 / -1;\n}\n.btls-b2-id {\n    grid-area: 3 / -2 / 4 / -1;\n}\n\n.btls-info-box {\n    grid-area: -5 / -2 / -4 / -1;\n    display: flex;\n    flex-direction: column;\n    place-content: center;\n    align-items: center;\n    text-align: center;\n    padding: 0.5rem;\n}\n\n.btls-buttons {\n    grid-area: 2 / 1 / 3 / -1;\n    display: flex;\n    justify-content: center;\n    gap: 1rem;\n    padding: 0.5rem;\n}\n\n.btls-cell {\n    border: 1px solid black;\n}\n.btls-cell:hover {\n    background-color: #ececec;\n}\n.btls-cell:active {\n    background-color: #e2e2e2;\n}\n\n.btls-cell .empty {\n    background-color: rgb(255, 255, 255);\n}\n.btls-cell .ship {\n    background-color: rgb(50, 171, 187);\n}\n.btls-cell.hit {\n    background-color: rgb(184, 112, 112);\n}"],sourceRoot:""}]);const s=l},28:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(537),a=t.n(r),o=t(645),l=t.n(o)()(a());l.push([e.id,":root {\n    font-size: 20px;\n}\n\n.no-select {\n    -webkit-touch-callout: none;    /* iOS Safari */\n    -webkit-user-select: none;      /* Safari */\n    -khtml-user-select: none;       /* Konqueror HTML */\n    -moz-user-select: none;         /* Old versions of Firefox */\n    -ms-user-select: none;          /* Internet Explorer/Edge */\n    user-select: none;              /* Non-prefixed version, currently\n                                       supported by Chrome, Edge, Opera and Firefox */\n}\n\nh1, h2, h3, h4, h5, h6 {\n    padding: 0px;\n    margin: 0px;\n}\n\nbody {\n    margin: 0;\n    min-width: 100vw;\n    min-height: 100vh;\n    display: grid;\n    justify-content: center;\n    align-content: center;\n}","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;IACI,eAAe;AACnB;;AAEA;IACI,2BAA2B,KAAK,eAAe;IAC/C,yBAAyB,OAAO,WAAW;IAC3C,wBAAwB,QAAQ,mBAAmB;IACnD,sBAAsB,UAAU,4BAA4B;IAC5D,qBAAqB,WAAW,2BAA2B;IAC3D,iBAAiB,eAAe;qFACiD;AACrF;;AAEA;IACI,YAAY;IACZ,WAAW;AACf;;AAEA;IACI,SAAS;IACT,gBAAgB;IAChB,iBAAiB;IACjB,aAAa;IACb,uBAAuB;IACvB,qBAAqB;AACzB",sourcesContent:[":root {\n    font-size: 20px;\n}\n\n.no-select {\n    -webkit-touch-callout: none;    /* iOS Safari */\n    -webkit-user-select: none;      /* Safari */\n    -khtml-user-select: none;       /* Konqueror HTML */\n    -moz-user-select: none;         /* Old versions of Firefox */\n    -ms-user-select: none;          /* Internet Explorer/Edge */\n    user-select: none;              /* Non-prefixed version, currently\n                                       supported by Chrome, Edge, Opera and Firefox */\n}\n\nh1, h2, h3, h4, h5, h6 {\n    padding: 0px;\n    margin: 0px;\n}\n\nbody {\n    margin: 0;\n    min-width: 100vw;\n    min-height: 100vh;\n    display: grid;\n    justify-content: center;\n    align-content: center;\n}"],sourceRoot:""}]);const s=l},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(r)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(l[i]=!0)}for(var A=0;A<e.length;A++){var d=[].concat(e[A]);r&&l[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),n.push(d))}},n}},537:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},l=[],s=0;s<e.length;s++){var i=e[s],A=r.base?i[0]+r.base:i[0],d=o[A]||0,c="".concat(A," ").concat(d);o[A]=d+1;var u=t(c),b={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==u)n[u].references++,n[u].updater(b);else{var p=a(b,r);r.byIndex=s,n.splice(s,0,{identifier:c,updater:p,references:1})}l.push(c)}return l}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var l=0;l<o.length;l++){var s=t(o[l]);n[s].references--}for(var i=r(e,a),A=0;A<o.length;A++){var d=t(o[A]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}o=i}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{const e=()=>{let e="Manual";return{setStyle:n=>{"Manual"!==n&&"Computer"!==n||(e=n)},getStyle:()=>e,takeComputerTurnRandom:e=>{const n=[],t=e.observeBoard();for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)2!==t[e][r]&&n.push([r,e]);const r=n[Math.floor(Math.random()*n.length)];e.receiveAttack(r)}}},n=e=>{let n=e,t=!1,r=[],a=[],o=[];const l=()=>{let e=[];for(let t=0;t<n;t++){e.push([]);for(let r=0;r<n;r++)e[t].push(0)}return e};let s=l(),i=null;const A=(e,n,t,r)=>{if(!Number.isInteger(n)||n<1||n>e.length)return!1;if(!u(t))return!1;if("boolean"!=typeof r)return!1;const a=d(n,t,r);if(a[0][0]<0||a[0][0]>=e.length||a[0][1]<0||a[0][1]>=e.length||a[1][0]<0||a[1][0]>=e.length||a[1][1]<0||a[1][1]>=e.length)return!1;for(let n=a[0][0]-1;n<=a[1][0]+1;n++)if(-1!==n&&n!==e.length)for(let t=a[0][1]-1;t<=a[1][1]+1;t++)if(-1!==t&&t!==e.length&&0!==e[t][n])return!1;return!0},d=(e,n,t)=>{const r=Math.abs(Math.floor((e-1)/2)),a=Math.abs(Math.ceil((e-1)/2));return t?[[n[0],n[1]-r],[n[0],n[1]+a]]:[[n[0]-r,n[1]],[n[0]+a,n[1]]]},c=(e,n)=>{if(0!==e[n[1]][n[0]]){const t=[],r=n=>{t.push(n),e[n[1]][n[0]]=0,n[1]>0&&0!==e[n[1]-1][n[0]]&&r([n[0],n[1]-1]),n[0]>0&&0!==e[n[1]][n[0]-1]&&r([n[0]-1,n[1]]),n[1]<e.length-1&&0!==e[n[1]+1][n[0]]&&r([n[0],n[1]+1]),n[0]<e.length-1&&0!==e[n[1]][n[0]+1]&&r([n[0]+1,n[1]])};return r(n),[e,t]}return null},u=e=>!!(Array.isArray(e)&&2===e.length&&Number.isInteger(e[0])&&e[0]>=0&&e[0]<s.length&&Number.isInteger(e[1])&&e[1]>=0&&e[1]<s.length),b=()=>t,p=()=>JSON.parse(JSON.stringify(s)),f=()=>{let e,n=0;e=t?JSON.parse(JSON.stringify(i)):p();for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++){const a=c(e,[r,t]);a&&a[1].length>0&&n++}return n};return{startGame:()=>{t=!0,i=p()},resetBoard:()=>{s=l(),i=null,t=!1,r=[],a=[],o=[]},placeShip:(e,n,t)=>{if(b())return null;if(A(s,e,n,t)){const r=d(e,n,t);if(t)for(let e=r[0][1];e<=r[1][1];e++)s[e][n[0]]=1;else for(let e=r[0][0];e<=r[1][0];e++)s[n[1]][e]=1}},moveShip:(e,n,t)=>{if(b())return null;if(!u(e))return;if(!u(n))return;if("boolean"!=typeof t)return!1;let r=p();const a=c(r,e);if(!a)return;r=a[0];const o=a[1];let l=!1;o.length>2&&o[0][1]!==o[1][1]&&(l=!0);const i=Math.ceil((o.length-1)/2);let d=[];if(l?o.sort(((e,n)=>e[1]-n[1])):o.sort(((e,n)=>e[0]-n[0])),d=o[i],t&&(l=!l),t?(n[0]+=d[1]-e[1],n[1]+=d[0]-e[0]):(n[0]+=d[0]-e[0],n[1]+=d[1]-e[1]),A(r,o.length,n,l)){s=r;for(let e=0;e<o.length;e++)l?s[n[1]+(e-i)][n[0]]=1:s[n[1]][n[0]+(e-i)]=1}},deleteShip:e=>{if(b())return null;u(e)&&c(s,e)},receiveAttack:e=>{if(!b())return!1;if(!u(e))return!1;if(2!==s[e[1]][e[0]]){1===s[e[1]][e[0]]&&a.push(e),r.push(e),s[e[1]][e[0]]=2;let n=JSON.parse(JSON.stringify(i));const t=c(n,e);if(t){let e=!0;for(let n=0;n<t[1].length;n++)if(1===s[t[1][n][1]][t[1][n][0]]){e=!1;break}e&&o.push(t[1])}return!0}},getCellStateAt:e=>u(e)?s[e[1]][e[0]]:null,checkDefeat:()=>{if(!b())return!1;for(let e=0;e<s.length;e++)for(let n=0;n<s[e].length;n++)if(1===s[e][n])return!1;return!0},isGameStarted:b,observeBoard:p,totalNumberOfShips:f,remainingNumberOfShips:()=>t?f()-o.length:f(),previousAttacks:()=>JSON.parse(JSON.stringify(r)),previousHits:()=>JSON.parse(JSON.stringify(a)),previousSinks:()=>JSON.parse(JSON.stringify(o))}};var r=t(379),a=t.n(r),o=t(795),l=t.n(o),s=t(569),i=t.n(s),A=t(565),d=t.n(A),c=t(216),u=t.n(c),b=t(589),p=t.n(b),f=t(28),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=i().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=u(),a()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals;var m=t(786),C={};C.styleTagTransform=p(),C.setAttributes=d(),C.insert=i().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=u(),a()(m.Z,C),m.Z&&m.Z.locals&&m.Z.locals,(()=>{const t=(()=>{let t=!1,r=!1,a=0,o=[e(),e()];o[1].setStyle("Computer");let l=[n(10),n(10)];const s=()=>{r=!0,t=!1},i=()=>{setTimeout((()=>{const e=l[(a+1)%2];o[a].takeComputerTurnRandom(e),e.checkDefeat()?s():A()}),3e3)},A=()=>{a=(a+1)%2,"Computer"===o[a].getStyle()&&i()};return{startGame:()=>{if(t||r)return null;t=!0,r=!1,l[0].startGame(),l[1].startGame(),a=Math.floor(2*Math.random()),"Computer"===o[a].getStyle()&&i()},endGame:s,resetGame:()=>{t=!1,r=!1,l[0].resetBoard(),l[1].resetBoard()},manualAttack:(e,n)=>{if(!(Number.isInteger(e)&&e>=0&&e<=1))return null;if(!t||r)return null;if("Computer"===o[a].getStyle())return null;if(a===e)return null;const i=l[(a+1)%2],d=i.previousAttacks().length;if(i.receiveAttack(n),d!==i.previousAttacks().length){if(i.checkDefeat())return void s();A()}},isGameStarted:()=>t,isGameEnded:()=>r,getPlayers:()=>o,getGameboards:()=>l,changeTurn:A,getTurn:()=>a}})(),r={base:null,title:null,boardArea:null,board1:null,b1XAxis:null,b1YAxis:null,board1ID:null,infoBox:null,board2:null,b2XAxis:null,b2YAxis:null,board2ID:null,buttons:null,startButton:null,resetButton:null},a=()=>{const e=t.getGameboards();e[0].totalNumberOfShips()<1||e[1].totalNumberOfShips()<1?r.infoBox.textContent="Please ensure all Manual players have at least one ship before starting the game":t.startGame()},o=()=>{t.resetGame()},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=document.createElement(e);return r instanceof HTMLUnknownElement?null:(Array.isArray(n)&&n.forEach((e=>{"string"==typeof e&&r.classList.add(e)})),t instanceof HTMLElement&&t.appendChild(r),r)},s=e=>e instanceof Element?l("div",["btls-cell"],e):null,i=(e,n)=>{switch(e.classList.remove("ship","hit","empty"),n){case 1:e.classList.add("ship");case 2:e.classList.add("hit");default:e.classList.add("empty")}},A=(e,n,t)=>{if(!u(e))return null;if(!(Number.isInteger(n)&&n>=0&&n<=1))return null;if(!(t instanceof HTMLElement))return null;t.replaceChildren();const r=e.observeBoard();for(let e=0;e<r.length;e++)for(let a=0;a<r[e].length;a++){const o=s(t);o&&(i(o,r[e][a]),o.addEventListener("click",(()=>{c(o,[a,e],n)})))}},d=(e,n,r,a)=>{const o=t.getGameboards()[n].observeBoard();if(0===r)for(let n=0;n<o.length;n++)l("div",["btls-axis-no"],e).textContent=n;else if(o.length>0)for(let n=0;n<o[0].length;n++)l("div",["btls-axis-no"],e).textContent=n;a.appendChild(e)},c=(e,n,r)=>{if(!(e instanceof HTMLElement))return null;if(!(Number.isInteger(r)&&r>=0&&r<=1))return null;let a,o;if(o=t.getGameboards()[r],a=o.getCellStateAt(n),null===a)return null;t.manualAttack(r,n),a=o.getCellStateAt(n),i(e,a)},u=e=>null===e||"object"!=typeof e?null:!!Object.hasOwn(e,"observeBoard")||null;return{displayGame:()=>{r.base&&r.base.removeElement(),r.base=l("div",["btls-base"],document.body),r.title=l("div",["btls-title"],r.base),r.boardArea=l("div",["btls-board-area"],r.base),r.board2=l("div",["btls-board-two"],r.boardArea),r.b2XAxis=l("div",["btls-axis-2-x"],r.boardArea),r.b2YAxis=l("div",["btls-axis-2-y"],r.boardArea),r.board2ID=l("div",["btls-b2-id"],r.boardArea),r.infoBox=l("div",["btls-info-box"],r.boardArea),r.board1ID=l("div",["btls-b1-id"],r.boardArea),r.board1=l("div",["btls-board-one"],r.boardArea),r.b1XAxis=l("div",["btls-axis-1-x"],r.boardArea),r.b1YAxis=l("div",["btls-axis-1-y"],r.boardArea),A(t.getGameboards()[0],0,r.board1),A(t.getGameboards()[1],1,r.board2),d(r.b1XAxis,0,0,r.boardArea),d(r.b1YAxis,0,1,r.boardArea),d(r.b2XAxis,1,0,r.boardArea),d(r.b2YAxis,1,1,r.boardArea),r.title.textContent="BATTLESHIP";const e=t.getPlayers();r.board2ID.textContent=`Player Two: ${e[1].getStyle()}`,r.board1ID.textContent=`Player One: ${e[0].getStyle()}`,r.infoBox.textContent="Welcome to Battleship!",r.buttons=l("div",["btls-buttons"],r.base),r.startButton=l("button",["btls-start"],r.buttons),r.startButton.addEventListener("click",a),r.resetButton=l("button",["btls-reset"],r.buttons),r.resetButton.addEventListener("click",o),r.startButton.textContent="Start Game",r.resetButton.textContent="Reset Game"},createElement:l,createCell:s,createBoard:A,attackCell:c}})().displayGame()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YSxZQUFZRSxZQUFjLGFBQzlCZixFQUFJYyxZQUFZQyxZQUFjLFlBQVksRUF3STFDOUksZ0JBQ0EwSixhQUNBSyxjQUNBTSxhQUNILEVFbE1NMUQsR0FDUmlFLGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvRE9NL0RPTS1zdHlsZXMuY3NzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvUGxheWVyL1BsYXllci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvR2FtZWJvYXJkL0dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc3R5bGVzLmNzcz80NGIyIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9ET00vRE9NLXN0eWxlcy5jc3M/ZmYwNiIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvRE9NL0RPTS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvR2FtZS9HYW1lLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgOnJvb3Qge1xuICAgIC0tYmF0dGxlc2hpcC1ib2FyZC1zaXplOiAyMHJlbTtcbn1cblxuLmJ0bHMtYmFzZSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG59XG5cbi5idGxzLXRpdGxlIHtcbiAgICBmb250LXNpemU6IDNyZW07XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uYnRscy1ib2FyZC1hcmVhIHtcbiAgICBncmlkLWFyZWE6IDEgLyAxIC8gMiAvIC0xO1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAgYXV0byB2YXIoLS1iYXR0bGVzaGlwLWJvYXJkLXNpemUsIDI0cmVtKSBhdXRvIDRyZW0gYXV0byB2YXIoLS1iYXR0bGVzaGlwLWJvYXJkLXNpemUsIDI0cmVtKSBhdXRvO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byB2YXIoLS1iYXR0bGVzaGlwLWJvYXJkLXNpemUsIDI0cmVtKTtcbiAgICBwYWRkaW5nOiAwLjVyZW07XG59XG5cbi5idGxzLWJvYXJkLW9uZSxcbi5idGxzLWJvYXJkLXR3byB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgYXV0byk7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIGF1dG8pO1xuICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICBnYXA6IDAuMTJyZW07XG59XG5cbi5idGxzLWF4aXMtMS14LFxuLmJ0bHMtYXhpcy0xLXksXG4uYnRscy1heGlzLTIteCxcbi5idGxzLWF4aXMtMi15IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogY2VudGVyO1xufVxuXG4uYnRscy1ib2FyZC1vbmUge1xuICAgIGdyaWQtYXJlYTogLTMgLyAtMiAvIC0yIC8gLTE7XG59XG4uYnRscy1heGlzLTEteCB7XG4gICAgZ3JpZC1hcmVhOiAtMiAvIC0yIC8gLTEgLyAtMTtcbiAgICBwYWRkaW5nOiAwcmVtIDAuNXJlbTtcbn1cbi5idGxzLWF4aXMtMS15IHtcbiAgICBncmlkLWFyZWE6IC0zIC8gMSAvIC0yIC8gMjtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIHBhZGRpbmc6IDAuNXJlbSAwcmVtO1xufVxuLmJ0bHMtYm9hcmQtdHdvIHtcbiAgICBncmlkLWFyZWE6IDIgLyAtMiAvIDMgLyAtMTtcbn1cbi5idGxzLWF4aXMtMi14IHtcbiAgICBncmlkLWFyZWE6IDEgLyAtMiAvIDIgLyAtMTtcbiAgICBwYWRkaW5nOiAwcmVtIDAuNXJlbTtcbn1cbi5idGxzLWF4aXMtMi15IHtcbiAgICBncmlkLWFyZWE6IDIgLyAxIC8gMyAvIDI7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBwYWRkaW5nOiAwLjVyZW0gMHJlbTtcbn1cblxuLmJ0bHMtYXhpcy1ubyB7XG4gICAgcGFkZGluZzogMHJlbTtcbiAgICBtYXJnaW46IDByZW07XG59XG5cbi5idGxzLWIxLWlkLFxuLmJ0bHMtYjItaWQge1xuICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogY2VudGVyO1xufVxuXG4uYnRscy1iMS1pZCB7XG4gICAgZ3JpZC1hcmVhOiAtNCAvIC0yIC8gLTMgLyAtMTtcbn1cbi5idGxzLWIyLWlkIHtcbiAgICBncmlkLWFyZWE6IDMgLyAtMiAvIDQgLyAtMTtcbn1cblxuLmJ0bHMtaW5mby1ib3gge1xuICAgIGdyaWQtYXJlYTogLTUgLyAtMiAvIC00IC8gLTE7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIHBsYWNlLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAwLjVyZW07XG59XG5cbi5idGxzLWJ1dHRvbnMge1xuICAgIGdyaWQtYXJlYTogMiAvIDEgLyAzIC8gLTE7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBnYXA6IDFyZW07XG4gICAgcGFkZGluZzogMC41cmVtO1xufVxuXG4uYnRscy1jZWxsIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbn1cbi5idGxzLWNlbGw6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlY2VjZWM7XG59XG4uYnRscy1jZWxsOmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2UyZTJlMjtcbn1cblxuLmJ0bHMtY2VsbCAuZW1wdHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcbn1cbi5idGxzLWNlbGwgLnNoaXAge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYig1MCwgMTcxLCAxODcpO1xufVxuLmJ0bHMtY2VsbC5oaXQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxODQsIDExMiwgMTEyKTtcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9ET00vRE9NLXN0eWxlcy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixxSEFBcUg7SUFDckgsK0RBQStEO0lBQy9ELGVBQWU7QUFDbkI7O0FBRUE7O0lBRUksYUFBYTtJQUNiLG9DQUFvQztJQUNwQyx1Q0FBdUM7SUFDdkMsZUFBZTtJQUNmLFlBQVk7QUFDaEI7O0FBRUE7Ozs7SUFJSSxhQUFhO0lBQ2IsNkJBQTZCO0lBQzdCLGtCQUFrQjtJQUNsQixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSw0QkFBNEI7QUFDaEM7QUFDQTtJQUNJLDRCQUE0QjtJQUM1QixvQkFBb0I7QUFDeEI7QUFDQTtJQUNJLDBCQUEwQjtJQUMxQixzQkFBc0I7SUFDdEIsb0JBQW9CO0FBQ3hCO0FBQ0E7SUFDSSwwQkFBMEI7QUFDOUI7QUFDQTtJQUNJLDBCQUEwQjtJQUMxQixvQkFBb0I7QUFDeEI7QUFDQTtJQUNJLHdCQUF3QjtJQUN4QixzQkFBc0I7SUFDdEIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUE7O0lBRUksaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSw0QkFBNEI7QUFDaEM7QUFDQTtJQUNJLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUNJLDRCQUE0QjtJQUM1QixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHFCQUFxQjtJQUNyQixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixTQUFTO0lBQ1QsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0kseUJBQXlCO0FBQzdCO0FBQ0E7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxvQ0FBb0M7QUFDeEM7QUFDQTtJQUNJLG1DQUFtQztBQUN2QztBQUNBO0lBQ0ksb0NBQW9DO0FBQ3hDXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjpyb290IHtcXG4gICAgLS1iYXR0bGVzaGlwLWJvYXJkLXNpemU6IDIwcmVtO1xcbn1cXG5cXG4uYnRscy1iYXNlIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxufVxcblxcbi5idGxzLXRpdGxlIHtcXG4gICAgZm9udC1zaXplOiAzcmVtO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5idGxzLWJvYXJkLWFyZWEge1xcbiAgICBncmlkLWFyZWE6IDEgLyAxIC8gMiAvIC0xO1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6ICBhdXRvIHZhcigtLWJhdHRsZXNoaXAtYm9hcmQtc2l6ZSwgMjRyZW0pIGF1dG8gNHJlbSBhdXRvIHZhcigtLWJhdHRsZXNoaXAtYm9hcmQtc2l6ZSwgMjRyZW0pIGF1dG87XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byB2YXIoLS1iYXR0bGVzaGlwLWJvYXJkLXNpemUsIDI0cmVtKTtcXG4gICAgcGFkZGluZzogMC41cmVtO1xcbn1cXG5cXG4uYnRscy1ib2FyZC1vbmUsXFxuLmJ0bHMtYm9hcmQtdHdvIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIGF1dG8pO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgYXV0byk7XFxuICAgIHBhZGRpbmc6IDAuNXJlbTtcXG4gICAgZ2FwOiAwLjEycmVtO1xcbn1cXG5cXG4uYnRscy1heGlzLTEteCxcXG4uYnRscy1heGlzLTEteSxcXG4uYnRscy1heGlzLTIteCxcXG4uYnRscy1heGlzLTIteSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5idGxzLWJvYXJkLW9uZSB7XFxuICAgIGdyaWQtYXJlYTogLTMgLyAtMiAvIC0yIC8gLTE7XFxufVxcbi5idGxzLWF4aXMtMS14IHtcXG4gICAgZ3JpZC1hcmVhOiAtMiAvIC0yIC8gLTEgLyAtMTtcXG4gICAgcGFkZGluZzogMHJlbSAwLjVyZW07XFxufVxcbi5idGxzLWF4aXMtMS15IHtcXG4gICAgZ3JpZC1hcmVhOiAtMyAvIDEgLyAtMiAvIDI7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIHBhZGRpbmc6IDAuNXJlbSAwcmVtO1xcbn1cXG4uYnRscy1ib2FyZC10d28ge1xcbiAgICBncmlkLWFyZWE6IDIgLyAtMiAvIDMgLyAtMTtcXG59XFxuLmJ0bHMtYXhpcy0yLXgge1xcbiAgICBncmlkLWFyZWE6IDEgLyAtMiAvIDIgLyAtMTtcXG4gICAgcGFkZGluZzogMHJlbSAwLjVyZW07XFxufVxcbi5idGxzLWF4aXMtMi15IHtcXG4gICAgZ3JpZC1hcmVhOiAyIC8gMSAvIDMgLyAyO1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBwYWRkaW5nOiAwLjVyZW0gMHJlbTtcXG59XFxuXFxuLmJ0bHMtYXhpcy1ubyB7XFxuICAgIHBhZGRpbmc6IDByZW07XFxuICAgIG1hcmdpbjogMHJlbTtcXG59XFxuXFxuLmJ0bHMtYjEtaWQsXFxuLmJ0bHMtYjItaWQge1xcbiAgICBmb250LXNpemU6IDAuOHJlbTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4uYnRscy1iMS1pZCB7XFxuICAgIGdyaWQtYXJlYTogLTQgLyAtMiAvIC0zIC8gLTE7XFxufVxcbi5idGxzLWIyLWlkIHtcXG4gICAgZ3JpZC1hcmVhOiAzIC8gLTIgLyA0IC8gLTE7XFxufVxcblxcbi5idGxzLWluZm8tYm94IHtcXG4gICAgZ3JpZC1hcmVhOiAtNSAvIC0yIC8gLTQgLyAtMTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgcGxhY2UtY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIHBhZGRpbmc6IDAuNXJlbTtcXG59XFxuXFxuLmJ0bHMtYnV0dG9ucyB7XFxuICAgIGdyaWQtYXJlYTogMiAvIDEgLyAzIC8gLTE7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBnYXA6IDFyZW07XFxuICAgIHBhZGRpbmc6IDAuNXJlbTtcXG59XFxuXFxuLmJ0bHMtY2VsbCB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbn1cXG4uYnRscy1jZWxsOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VjZWNlYztcXG59XFxuLmJ0bHMtY2VsbDphY3RpdmUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTJlMmUyO1xcbn1cXG5cXG4uYnRscy1jZWxsIC5lbXB0eSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcXG59XFxuLmJ0bHMtY2VsbCAuc2hpcCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYig1MCwgMTcxLCAxODcpO1xcbn1cXG4uYnRscy1jZWxsLmhpdCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxODQsIDExMiwgMTEyKTtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGA6cm9vdCB7XG4gICAgZm9udC1zaXplOiAyMHB4O1xufVxuXG4ubm8tc2VsZWN0IHtcbiAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7ICAgIC8qIGlPUyBTYWZhcmkgKi9cbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOyAgICAgIC8qIFNhZmFyaSAqL1xuICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsgICAgICAgLyogS29ucXVlcm9yIEhUTUwgKi9cbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lOyAgICAgICAgIC8qIE9sZCB2ZXJzaW9ucyBvZiBGaXJlZm94ICovXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lOyAgICAgICAgICAvKiBJbnRlcm5ldCBFeHBsb3Jlci9FZGdlICovXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgICAgICAgICAvKiBOb24tcHJlZml4ZWQgdmVyc2lvbiwgY3VycmVudGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWQgYnkgQ2hyb21lLCBFZGdlLCBPcGVyYSBhbmQgRmlyZWZveCAqL1xufVxuXG5oMSwgaDIsIGgzLCBoNCwgaDUsIGg2IHtcbiAgICBwYWRkaW5nOiAwcHg7XG4gICAgbWFyZ2luOiAwcHg7XG59XG5cbmJvZHkge1xuICAgIG1hcmdpbjogMDtcbiAgICBtaW4td2lkdGg6IDEwMHZ3O1xuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksMkJBQTJCLEtBQUssZUFBZTtJQUMvQyx5QkFBeUIsT0FBTyxXQUFXO0lBQzNDLHdCQUF3QixRQUFRLG1CQUFtQjtJQUNuRCxzQkFBc0IsVUFBVSw0QkFBNEI7SUFDNUQscUJBQXFCLFdBQVcsMkJBQTJCO0lBQzNELGlCQUFpQixlQUFlO3FGQUNpRDtBQUNyRjs7QUFFQTtJQUNJLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLHFCQUFxQjtBQUN6QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxuICAgIGZvbnQtc2l6ZTogMjBweDtcXG59XFxuXFxuLm5vLXNlbGVjdCB7XFxuICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTsgICAgLyogaU9TIFNhZmFyaSAqL1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOyAgICAgIC8qIFNhZmFyaSAqL1xcbiAgICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgIC8qIEtvbnF1ZXJvciBIVE1MICovXFxuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgICAgLyogT2xkIHZlcnNpb25zIG9mIEZpcmVmb3ggKi9cXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lOyAgICAgICAgICAvKiBJbnRlcm5ldCBFeHBsb3Jlci9FZGdlICovXFxuICAgIHVzZXItc2VsZWN0OiBub25lOyAgICAgICAgICAgICAgLyogTm9uLXByZWZpeGVkIHZlcnNpb24sIGN1cnJlbnRseVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZCBieSBDaHJvbWUsIEVkZ2UsIE9wZXJhIGFuZCBGaXJlZm94ICovXFxufVxcblxcbmgxLCBoMiwgaDMsIGg0LCBoNSwgaDYge1xcbiAgICBwYWRkaW5nOiAwcHg7XFxuICAgIG1hcmdpbjogMHB4O1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBtaW4td2lkdGg6IDEwMHZ3O1xcbiAgICBtaW4taGVpZ2h0OiAxMDB2aDtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImNvbnN0IFBsYXllciA9ICgpID0+IHtcbiAgICBsZXQgc3R5bGUgPSBcIk1hbnVhbFwiO1xuICAgIGxldCBwcmV2aW91c0hpdHMgPSBbXTtcblxuICAgIGNvbnN0IHNldFN0eWxlID0gKHMpID0+IHtcbiAgICAgICAgaWYgKHMgIT09IFwiTWFudWFsXCIgJiYgcyAhPT0gXCJDb21wdXRlclwiKSByZXR1cm47XG4gICAgICAgIHN0eWxlID0gcztcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0U3R5bGUgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9O1xuXG4gICAgY29uc3QgdGFrZUNvbXB1dGVyVHVyblJhbmRvbSA9IChib2FyZCkgPT4ge1xuICAgICAgICBjb25zdCBwb3NzaWJsZUF0dGFja3MgPSBbXTtcbiAgICAgICAgY29uc3QgYm9hcmRBcnIgPSBib2FyZC5vYnNlcnZlQm9hcmQoKTtcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBib2FyZEFyci5sZW5ndGg7IHkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBib2FyZEFyclt5XS5sZW5ndGg7IHgrKykge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZEFyclt5XVt4XSAhPT0gMikgcG9zc2libGVBdHRhY2tzLnB1c2goW3gsIHldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYW5kID1cbiAgICAgICAgICAgIHBvc3NpYmxlQXR0YWNrc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZUF0dGFja3MubGVuZ3RoKV07XG4gICAgICAgIGJvYXJkLnJlY2VpdmVBdHRhY2socmFuZCk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNldFN0eWxlLFxuICAgICAgICBnZXRTdHlsZSxcbiAgICAgICAgdGFrZUNvbXB1dGVyVHVyblJhbmRvbSxcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcbiIsImNvbnN0IEdhbWVib2FyZCA9IChzKSA9PiB7XG4gICAgbGV0IHNpemUgPSBzO1xuICAgIGxldCBnYW1lU3RhcnRlZCA9IGZhbHNlO1xuICAgIGxldCBhdHRhY2tzID0gW107XG4gICAgbGV0IGhpdHMgPSBbXTtcbiAgICBsZXQgc2lua3MgPSBbXTtcblxuICAgIGNvbnN0IGdlbmVyYXRlQm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIGxldCBib2FyZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgYm9hcmQucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemU7IGorKykge1xuICAgICAgICAgICAgICAgIGJvYXJkW2ldLnB1c2goMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvYXJkO1xuICAgIH07XG4gICAgbGV0IGJvYXJkID0gZ2VuZXJhdGVCb2FyZCgpO1xuICAgIGxldCBzdGFydGluZ0JvYXJkID0gbnVsbDtcblxuICAgIGNvbnN0IHN0YXJ0R2FtZSA9ICgpID0+IHtcbiAgICAgICAgZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBzdGFydGluZ0JvYXJkID0gb2JzZXJ2ZUJvYXJkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0Qm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIGJvYXJkID0gZ2VuZXJhdGVCb2FyZCgpO1xuICAgICAgICBzdGFydGluZ0JvYXJkID0gbnVsbDtcbiAgICAgICAgZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgYXR0YWNrcyA9IFtdO1xuICAgICAgICBoaXRzID0gW107XG4gICAgICAgIHNpbmtzID0gW107XG4gICAgfTtcblxuICAgIGNvbnN0IHBsYWNlU2hpcCA9IChsZW5ndGgsIHBvc2l0aW9uLCByb3RhdGlvbikgPT4ge1xuICAgICAgICBpZiAoaXNHYW1lU3RhcnRlZCgpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHZhbGlkYXRlU2hpcFBvc2l0aW9uKGJvYXJkLCBsZW5ndGgsIHBvc2l0aW9uLCByb3RhdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IGNhbGN1bGF0ZVNoaXBBcmVhKGxlbmd0aCwgcG9zaXRpb24sIHJvdGF0aW9uKTtcbiAgICAgICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBib3VuZHNbMF1bMV07IGogPD0gYm91bmRzWzFdWzFdOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRbal1bcG9zaXRpb25bMF1dID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBib3VuZHNbMF1bMF07IGkgPD0gYm91bmRzWzFdWzBdOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRbcG9zaXRpb25bMV1dW2ldID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbW92ZVNoaXAgPSAob3JpZ1BvcywgZGVzdFBvcywgcm90YXRpb24pID0+IHtcbiAgICAgICAgaWYgKGlzR2FtZVN0YXJ0ZWQoKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghdmFsaWRhdGVDb29yZGluYXRlSW5wdXQob3JpZ1BvcykpIHJldHVybjtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUNvb3JkaW5hdGVJbnB1dChkZXN0UG9zKSkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIHJvdGF0aW9uICE9PSBcImJvb2xlYW5cIikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGxldCBib2FyZENvcHkgPSBvYnNlcnZlQm9hcmQoKTtcbiAgICAgICAgY29uc3QgZ2V0U2hpcCA9IGV4dHJhY3RTaGlwKGJvYXJkQ29weSwgb3JpZ1Bvcyk7XG4gICAgICAgIGlmICghZ2V0U2hpcCkgcmV0dXJuO1xuICAgICAgICBib2FyZENvcHkgPSBnZXRTaGlwWzBdO1xuICAgICAgICBjb25zdCBzaGlwID0gZ2V0U2hpcFsxXTtcblxuICAgICAgICBsZXQgY3VyclJvdCA9IGZhbHNlO1xuICAgICAgICBpZiAoc2hpcC5sZW5ndGggPiAyICYmIHNoaXBbMF1bMV0gIT09IHNoaXBbMV1bMV0pIGN1cnJSb3QgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IG1pZGRsZUluZGV4ID0gTWF0aC5jZWlsKChzaGlwLmxlbmd0aCAtIDEpIC8gMik7XG4gICAgICAgIGxldCBtaWRkbGVQb3MgPSBbXTtcbiAgICAgICAgaWYgKGN1cnJSb3QpIHNoaXAuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pO1xuICAgICAgICBlbHNlIHNoaXAuc29ydCgoYSwgYikgPT4gYVswXSAtIGJbMF0pO1xuICAgICAgICBtaWRkbGVQb3MgPSBzaGlwW21pZGRsZUluZGV4XTtcblxuICAgICAgICBpZiAocm90YXRpb24pIGN1cnJSb3QgPSAhY3VyclJvdDtcblxuICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgIGRlc3RQb3NbMF0gKz0gbWlkZGxlUG9zWzFdIC0gb3JpZ1Bvc1sxXTtcbiAgICAgICAgICAgIGRlc3RQb3NbMV0gKz0gbWlkZGxlUG9zWzBdIC0gb3JpZ1Bvc1swXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlc3RQb3NbMF0gKz0gbWlkZGxlUG9zWzBdIC0gb3JpZ1Bvc1swXTtcbiAgICAgICAgICAgIGRlc3RQb3NbMV0gKz0gbWlkZGxlUG9zWzFdIC0gb3JpZ1Bvc1sxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWxpZGF0ZVNoaXBQb3NpdGlvbihib2FyZENvcHksIHNoaXAubGVuZ3RoLCBkZXN0UG9zLCBjdXJyUm90KSkge1xuICAgICAgICAgICAgYm9hcmQgPSBib2FyZENvcHk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VyclJvdCkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFtkZXN0UG9zWzFdICsgKGkgLSBtaWRkbGVJbmRleCldW2Rlc3RQb3NbMF1dID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFtkZXN0UG9zWzFdXVtkZXN0UG9zWzBdICsgKGkgLSBtaWRkbGVJbmRleCldID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVTaGlwUG9zaXRpb24gPSAoYm9hcmQsIGxlbmd0aCwgcG9zaXRpb24sIHJvdGF0aW9uKSA9PiB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihsZW5ndGgpIHx8IGxlbmd0aCA8IDEgfHwgbGVuZ3RoID4gYm9hcmQubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIXZhbGlkYXRlQ29vcmRpbmF0ZUlucHV0KHBvc2l0aW9uKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodHlwZW9mIHJvdGF0aW9uICE9PSBcImJvb2xlYW5cIikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGNhbGN1bGF0ZVNoaXBBcmVhKGxlbmd0aCwgcG9zaXRpb24sIHJvdGF0aW9uKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBib3VuZHNbMF1bMF0gPCAwIHx8XG4gICAgICAgICAgICBib3VuZHNbMF1bMF0gPj0gYm9hcmQubGVuZ3RoIHx8XG4gICAgICAgICAgICBib3VuZHNbMF1bMV0gPCAwIHx8XG4gICAgICAgICAgICBib3VuZHNbMF1bMV0gPj0gYm9hcmQubGVuZ3RoIHx8XG4gICAgICAgICAgICBib3VuZHNbMV1bMF0gPCAwIHx8XG4gICAgICAgICAgICBib3VuZHNbMV1bMF0gPj0gYm9hcmQubGVuZ3RoIHx8XG4gICAgICAgICAgICBib3VuZHNbMV1bMV0gPCAwIHx8XG4gICAgICAgICAgICBib3VuZHNbMV1bMV0gPj0gYm9hcmQubGVuZ3RoXG4gICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gYm91bmRzWzBdWzBdIC0gMTsgaSA8PSBib3VuZHNbMV1bMF0gKyAxOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09PSAtMSB8fCBpID09PSBib2FyZC5sZW5ndGgpIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGJvdW5kc1swXVsxXSAtIDE7IGogPD0gYm91bmRzWzFdWzFdICsgMTsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IC0xIHx8IGogPT09IGJvYXJkLmxlbmd0aCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkW2pdW2ldICE9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlU2hpcCA9IChwb3NpdGlvbikgPT4ge1xuICAgICAgICBpZiAoaXNHYW1lU3RhcnRlZCgpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUNvb3JkaW5hdGVJbnB1dChwb3NpdGlvbikpIHJldHVybjtcblxuICAgICAgICBleHRyYWN0U2hpcChib2FyZCwgcG9zaXRpb24pO1xuICAgIH07XG5cbiAgICBjb25zdCBjYWxjdWxhdGVTaGlwQXJlYSA9IChsZW5ndGgsIHBvc2l0aW9uLCByb3RhdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBsZW5ndGhCZWhpbmQgPSBNYXRoLmFicyhNYXRoLmZsb29yKChsZW5ndGggLSAxKSAvIDIpKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoSW5mcm9udCA9IE1hdGguYWJzKE1hdGguY2VpbCgobGVuZ3RoIC0gMSkgLyAyKSk7XG4gICAgICAgIGlmIChyb3RhdGlvbilcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgW3Bvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSAtIGxlbmd0aEJlaGluZF0sXG4gICAgICAgICAgICAgICAgW3Bvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSArIGxlbmd0aEluZnJvbnRdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBbcG9zaXRpb25bMF0gLSBsZW5ndGhCZWhpbmQsIHBvc2l0aW9uWzFdXSxcbiAgICAgICAgICAgICAgICBbcG9zaXRpb25bMF0gKyBsZW5ndGhJbmZyb250LCBwb3NpdGlvblsxXV0sXG4gICAgICAgICAgICBdO1xuICAgIH07XG5cbiAgICBjb25zdCByZWNlaXZlQXR0YWNrID0gKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGlmICghaXNHYW1lU3RhcnRlZCgpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghdmFsaWRhdGVDb29yZGluYXRlSW5wdXQocG9zaXRpb24pKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKGJvYXJkW3Bvc2l0aW9uWzFdXVtwb3NpdGlvblswXV0gIT09IDIpIHtcbiAgICAgICAgICAgIGlmIChib2FyZFtwb3NpdGlvblsxXV1bcG9zaXRpb25bMF1dID09PSAxKSBoaXRzLnB1c2gocG9zaXRpb24pO1xuICAgICAgICAgICAgYXR0YWNrcy5wdXNoKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIGJvYXJkW3Bvc2l0aW9uWzFdXVtwb3NpdGlvblswXV0gPSAyO1xuXG4gICAgICAgICAgICBsZXQgc3RhcnRpbmdCb2FyZENvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXJ0aW5nQm9hcmQpKTtcbiAgICAgICAgICAgIGNvbnN0IGdldFNoaXAgPSBleHRyYWN0U2hpcChzdGFydGluZ0JvYXJkQ29weSwgcG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKGdldFNoaXApIHtcbiAgICAgICAgICAgICAgICBsZXQgc2hpcFN1bmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2V0U2hpcFsxXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRbZ2V0U2hpcFsxXVtpXVsxXV1bZ2V0U2hpcFsxXVtpXVswXV0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBTdW5rID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2hpcFN1bmspIHNpbmtzLnB1c2goZ2V0U2hpcFsxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGV4dHJhY3RTaGlwID0gKGJvYXJkLCBwb3NpdGlvbikgPT4ge1xuICAgICAgICBpZiAoYm9hcmRbcG9zaXRpb25bMV1dW3Bvc2l0aW9uWzBdXSAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc2hpcCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbmVhcmVzdE5laWdoYm91ciA9IChwb3MpID0+IHtcbiAgICAgICAgICAgICAgICBzaGlwLnB1c2gocG9zKTtcbiAgICAgICAgICAgICAgICBib2FyZFtwb3NbMV1dW3Bvc1swXV0gPSAwO1xuICAgICAgICAgICAgICAgIGlmIChwb3NbMV0gPiAwICYmIGJvYXJkW3Bvc1sxXSAtIDFdW3Bvc1swXV0gIT09IDApXG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3ROZWlnaGJvdXIoW3Bvc1swXSwgcG9zWzFdIC0gMV0pO1xuICAgICAgICAgICAgICAgIGlmIChwb3NbMF0gPiAwICYmIGJvYXJkW3Bvc1sxXV1bcG9zWzBdIC0gMV0gIT09IDApXG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3ROZWlnaGJvdXIoW3Bvc1swXSAtIDEsIHBvc1sxXV0pO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgcG9zWzFdIDwgYm9hcmQubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgICAgICAgICAgICBib2FyZFtwb3NbMV0gKyAxXVtwb3NbMF1dICE9PSAwXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBuZWFyZXN0TmVpZ2hib3VyKFtwb3NbMF0sIHBvc1sxXSArIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHBvc1swXSA8IGJvYXJkLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRbcG9zWzFdXVtwb3NbMF0gKyAxXSAhPT0gMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgbmVhcmVzdE5laWdoYm91cihbcG9zWzBdICsgMSwgcG9zWzFdXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbmVhcmVzdE5laWdoYm91cihwb3NpdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gW2JvYXJkLCBzaGlwXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVDb29yZGluYXRlSW5wdXQgPSAocG9zaXRpb24pID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShwb3NpdGlvbikgJiZcbiAgICAgICAgICAgIHBvc2l0aW9uLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcihwb3NpdGlvblswXSkgJiZcbiAgICAgICAgICAgIHBvc2l0aW9uWzBdID49IDAgJiZcbiAgICAgICAgICAgIHBvc2l0aW9uWzBdIDwgYm9hcmQubGVuZ3RoICYmXG4gICAgICAgICAgICBOdW1iZXIuaXNJbnRlZ2VyKHBvc2l0aW9uWzFdKSAmJlxuICAgICAgICAgICAgcG9zaXRpb25bMV0gPj0gMCAmJlxuICAgICAgICAgICAgcG9zaXRpb25bMV0gPCBib2FyZC5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldENlbGxTdGF0ZUF0ID0gKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGlmICghdmFsaWRhdGVDb29yZGluYXRlSW5wdXQocG9zaXRpb24pKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGJvYXJkW3Bvc2l0aW9uWzFdXVtwb3NpdGlvblswXV07XG4gICAgfTtcblxuICAgIGNvbnN0IGNoZWNrRGVmZWF0ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWlzR2FtZVN0YXJ0ZWQoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvYXJkW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkW2ldW2pdID09PSAxKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzR2FtZVN0YXJ0ZWQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBnYW1lU3RhcnRlZDtcbiAgICB9O1xuXG4gICAgY29uc3Qgb2JzZXJ2ZUJvYXJkID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShib2FyZCkpO1xuICAgIH07XG5cbiAgICBjb25zdCB0b3RhbE51bWJlck9mU2hpcHMgPSAoKSA9PiB7XG4gICAgICAgIGxldCBxdWFudGl0eSA9IDA7XG4gICAgICAgIGxldCBib2FyZENvcHk7XG4gICAgICAgIGlmIChnYW1lU3RhcnRlZCkgYm9hcmRDb3B5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGFydGluZ0JvYXJkKSk7XG4gICAgICAgIGVsc2UgYm9hcmRDb3B5ID0gb2JzZXJ2ZUJvYXJkKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9hcmRDb3B5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvYXJkQ29weVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoaXAgPSBleHRyYWN0U2hpcChib2FyZENvcHksIFtqLCBpXSk7XG4gICAgICAgICAgICAgICAgaWYgKHNoaXAgJiYgc2hpcFsxXS5sZW5ndGggPiAwKSBxdWFudGl0eSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWFudGl0eTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVtYWluaW5nTnVtYmVyT2ZTaGlwcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGdhbWVTdGFydGVkKSByZXR1cm4gdG90YWxOdW1iZXJPZlNoaXBzKCkgLSBzaW5rcy5sZW5ndGg7XG4gICAgICAgIHJldHVybiB0b3RhbE51bWJlck9mU2hpcHMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcHJldmlvdXNBdHRhY2tzID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhdHRhY2tzKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHByZXZpb3VzSGl0cyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaGl0cykpO1xuICAgIH07XG5cbiAgICBjb25zdCBwcmV2aW91c1NpbmtzID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzaW5rcykpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydEdhbWUsXG4gICAgICAgIHJlc2V0Qm9hcmQsXG4gICAgICAgIHBsYWNlU2hpcCxcbiAgICAgICAgbW92ZVNoaXAsXG4gICAgICAgIGRlbGV0ZVNoaXAsXG4gICAgICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgICAgIGdldENlbGxTdGF0ZUF0LFxuICAgICAgICBjaGVja0RlZmVhdCxcbiAgICAgICAgaXNHYW1lU3RhcnRlZCxcbiAgICAgICAgb2JzZXJ2ZUJvYXJkLFxuICAgICAgICB0b3RhbE51bWJlck9mU2hpcHMsXG4gICAgICAgIHJlbWFpbmluZ051bWJlck9mU2hpcHMsXG4gICAgICAgIHByZXZpb3VzQXR0YWNrcyxcbiAgICAgICAgcHJldmlvdXNIaXRzLFxuICAgICAgICBwcmV2aW91c1NpbmtzLFxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgR2FtZWJvYXJkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vRE9NLXN0eWxlcy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0RPTS1zdHlsZXMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IEdhbWUgZnJvbSBcIi4vLi4vR2FtZS9HYW1lXCI7XG5cbmNvbnN0IERPTSA9ICgpID0+IHtcbiAgICBjb25zdCBnYW1lID0gR2FtZSgpO1xuXG4gICAgY29uc3QgZWxlID0ge1xuICAgICAgICBiYXNlOiBudWxsLFxuICAgICAgICB0aXRsZTogbnVsbCxcbiAgICAgICAgYm9hcmRBcmVhOiBudWxsLFxuICAgICAgICBib2FyZDE6IG51bGwsXG4gICAgICAgIGIxWEF4aXM6IG51bGwsXG4gICAgICAgIGIxWUF4aXM6IG51bGwsXG4gICAgICAgIGJvYXJkMUlEOiBudWxsLFxuICAgICAgICBpbmZvQm94OiBudWxsLFxuICAgICAgICBib2FyZDI6IG51bGwsXG4gICAgICAgIGIyWEF4aXM6IG51bGwsXG4gICAgICAgIGIyWUF4aXM6IG51bGwsXG4gICAgICAgIGJvYXJkMklEOiBudWxsLFxuICAgICAgICBidXR0b25zOiBudWxsLFxuICAgICAgICBzdGFydEJ1dHRvbjogbnVsbCxcbiAgICAgICAgcmVzZXRCdXR0b246IG51bGwsXG4gICAgfTtcblxuICAgIGNvbnN0IGRpc3BsYXlHYW1lID0gKCkgPT4ge1xuICAgICAgICBjbGVhckRpc3BsYXkoKTtcbiAgICAgICAgZWxlLmJhc2UgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJ0bHMtYmFzZVwiXSwgZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIGVsZS50aXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnRscy10aXRsZVwiXSwgZWxlLmJhc2UpO1xuICAgICAgICBlbGUuYm9hcmRBcmVhID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJidGxzLWJvYXJkLWFyZWFcIl0sIGVsZS5iYXNlKTtcbiAgICAgICAgZWxlLmJvYXJkMiA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnRscy1ib2FyZC10d29cIl0sIGVsZS5ib2FyZEFyZWEpO1xuICAgICAgICBlbGUuYjJYQXhpcyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnRscy1heGlzLTIteFwiXSwgZWxlLmJvYXJkQXJlYSk7XG4gICAgICAgIGVsZS5iMllBeGlzID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJidGxzLWF4aXMtMi15XCJdLCBlbGUuYm9hcmRBcmVhKTtcbiAgICAgICAgZWxlLmJvYXJkMklEID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJidGxzLWIyLWlkXCJdLCBlbGUuYm9hcmRBcmVhKTtcbiAgICAgICAgZWxlLmluZm9Cb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJ0bHMtaW5mby1ib3hcIl0sIGVsZS5ib2FyZEFyZWEpO1xuICAgICAgICBlbGUuYm9hcmQxSUQgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJ0bHMtYjEtaWRcIl0sIGVsZS5ib2FyZEFyZWEpO1xuICAgICAgICBlbGUuYm9hcmQxID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJidGxzLWJvYXJkLW9uZVwiXSwgZWxlLmJvYXJkQXJlYSk7XG4gICAgICAgIGVsZS5iMVhBeGlzID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJidGxzLWF4aXMtMS14XCJdLCBlbGUuYm9hcmRBcmVhKTtcbiAgICAgICAgZWxlLmIxWUF4aXMgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJ0bHMtYXhpcy0xLXlcIl0sIGVsZS5ib2FyZEFyZWEpO1xuICAgICAgICBjcmVhdGVCb2FyZChnYW1lLmdldEdhbWVib2FyZHMoKVswXSwgMCwgZWxlLmJvYXJkMSk7XG4gICAgICAgIGNyZWF0ZUJvYXJkKGdhbWUuZ2V0R2FtZWJvYXJkcygpWzFdLCAxLCBlbGUuYm9hcmQyKTtcbiAgICAgICAgY3JlYXRlQXhpcyhlbGUuYjFYQXhpcywgMCwgMCwgZWxlLmJvYXJkQXJlYSk7XG4gICAgICAgIGNyZWF0ZUF4aXMoZWxlLmIxWUF4aXMsIDAsIDEsIGVsZS5ib2FyZEFyZWEpO1xuICAgICAgICBjcmVhdGVBeGlzKGVsZS5iMlhBeGlzLCAxLCAwLCBlbGUuYm9hcmRBcmVhKTtcbiAgICAgICAgY3JlYXRlQXhpcyhlbGUuYjJZQXhpcywgMSwgMSwgZWxlLmJvYXJkQXJlYSk7XG5cbiAgICAgICAgZWxlLnRpdGxlLnRleHRDb250ZW50ID0gXCJCQVRUTEVTSElQXCI7XG5cbiAgICAgICAgY29uc3QgcGxheWVycyA9IGdhbWUuZ2V0UGxheWVycygpO1xuICAgICAgICBlbGUuYm9hcmQySUQudGV4dENvbnRlbnQgPSBgUGxheWVyIFR3bzogJHtwbGF5ZXJzWzFdLmdldFN0eWxlKCl9YDtcbiAgICAgICAgZWxlLmJvYXJkMUlELnRleHRDb250ZW50ID0gYFBsYXllciBPbmU6ICR7cGxheWVyc1swXS5nZXRTdHlsZSgpfWA7XG5cbiAgICAgICAgZWxlLmluZm9Cb3gudGV4dENvbnRlbnQgPSBcIldlbGNvbWUgdG8gQmF0dGxlc2hpcCFcIjtcblxuICAgICAgICBlbGUuYnV0dG9ucyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnRscy1idXR0b25zXCJdLCBlbGUuYmFzZSk7XG4gICAgICAgIGVsZS5zdGFydEJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnRscy1zdGFydFwiXSwgZWxlLmJ1dHRvbnMpO1xuICAgICAgICBlbGUuc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHN0YXJ0R2FtZSk7XG4gICAgICAgIGVsZS5yZXNldEJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnRscy1yZXNldFwiXSwgZWxlLmJ1dHRvbnMpO1xuICAgICAgICBlbGUucmVzZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlc2V0R2FtZSk7XG4gICAgICAgIGVsZS5zdGFydEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU3RhcnQgR2FtZVwiO1xuICAgICAgICBlbGUucmVzZXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlJlc2V0IEdhbWVcIjtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3RhcnRHYW1lID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBib2FyZHMgPSBnYW1lLmdldEdhbWVib2FyZHMoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYm9hcmRzWzBdLnRvdGFsTnVtYmVyT2ZTaGlwcygpIDwgMSB8fFxuICAgICAgICAgICAgYm9hcmRzWzFdLnRvdGFsTnVtYmVyT2ZTaGlwcygpIDwgMVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGVsZS5pbmZvQm94LnRleHRDb250ZW50ID1cbiAgICAgICAgICAgICAgICBcIlBsZWFzZSBlbnN1cmUgYWxsIE1hbnVhbCBwbGF5ZXJzIGhhdmUgYXQgbGVhc3Qgb25lIHNoaXAgYmVmb3JlIHN0YXJ0aW5nIHRoZSBnYW1lXCI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZS5zdGFydEdhbWUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZW5kR2FtZSA9ICgpID0+IHt9O1xuXG4gICAgY29uc3QgcmVzZXRHYW1lID0gKCkgPT4ge1xuICAgICAgICBnYW1lLnJlc2V0R2FtZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVFbGVtZW50ID0gKHR5cGUgPSBcImRpdlwiLCBjbGFzc2VzID0gW10sIHBhcmVudCA9IG51bGwpID0+IHtcbiAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIGlmIChuZXdFbGVtZW50IGluc3RhbmNlb2YgSFRNTFVua25vd25FbGVtZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2xhc3NlcykpIHtcbiAgICAgICAgICAgIGNsYXNzZXMuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSBwYXJlbnQuYXBwZW5kQ2hpbGQobmV3RWxlbWVudCk7XG4gICAgICAgIHJldHVybiBuZXdFbGVtZW50O1xuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVDZWxsID0gKHBhcmVudCkgPT4ge1xuICAgICAgICBpZiAoIShwYXJlbnQgaW5zdGFuY2VvZiBFbGVtZW50KSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJ0bHMtY2VsbFwiXSwgcGFyZW50KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Q2VsbFZhbHVlQ2xhc3NOYW1lID0gKGNlbGwsIHZhbHVlKSA9PiB7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcInNoaXBcIiwgXCJoaXRcIiwgXCJlbXB0eVwiKTtcbiAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJlbXB0eVwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGVhckRpc3BsYXkgPSAoKSA9PiB7XG4gICAgICAgIGlmIChlbGUuYmFzZSkgZWxlLmJhc2UucmVtb3ZlRWxlbWVudCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVCb2FyZCA9IChnYW1lYm9hcmRNb2R1bGUsIGJvYXJkVG9BdHRhY2ssIHBhcmVudCkgPT4ge1xuICAgICAgICBpZiAoIWNoZWNrVmFsaWRHYW1lYm9hcmQoZ2FtZWJvYXJkTW9kdWxlKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcihib2FyZFRvQXR0YWNrKSAmJlxuICAgICAgICAgICAgICAgIGJvYXJkVG9BdHRhY2sgPj0gMCAmJlxuICAgICAgICAgICAgICAgIGJvYXJkVG9BdHRhY2sgPD0gMVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCEocGFyZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZHJlbigpO1xuXG4gICAgICAgIGNvbnN0IGJvYXJkID0gZ2FtZWJvYXJkTW9kdWxlLm9ic2VydmVCb2FyZCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvYXJkW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2VsbCA9IGNyZWF0ZUNlbGwocGFyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAobmV3Q2VsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDZWxsVmFsdWVDbGFzc05hbWUobmV3Q2VsbCwgYm9hcmRbaV1bal0pO1xuICAgICAgICAgICAgICAgICAgICBuZXdDZWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2tDZWxsKG5ld0NlbGwsIFtqLCBpXSwgYm9hcmRUb0F0dGFjayk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVBeGlzID0gKGVsZW1lbnQsIGJvYXJkTm8sIGF4aXMsIHBhcmVudCkgPT4ge1xuICAgICAgICBjb25zdCBib2FyZCA9IGdhbWUuZ2V0R2FtZWJvYXJkcygpW2JvYXJkTm9dO1xuICAgICAgICBjb25zdCBvYnNCb2FyZCA9IGJvYXJkLm9ic2VydmVCb2FyZCgpO1xuICAgICAgICBpZiAoYXhpcyA9PT0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNCb2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW2BidGxzLWF4aXMtbm9gXSwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWxlLnRleHRDb250ZW50ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvYnNCb2FyZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNCb2FyZFswXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGUgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtgYnRscy1heGlzLW5vYF0sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBlbGUudGV4dENvbnRlbnQgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGF0dGFja0NlbGwgPSAoZWxlbWVudCwgcG9zaXRpb24sIGJvYXJkVG9BdHRhY2spID0+IHtcbiAgICAgICAgaWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcihib2FyZFRvQXR0YWNrKSAmJlxuICAgICAgICAgICAgICAgIGJvYXJkVG9BdHRhY2sgPj0gMCAmJlxuICAgICAgICAgICAgICAgIGJvYXJkVG9BdHRhY2sgPD0gMVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBsZXQgY3VycmVudFN0YXRlLCBnYW1lYm9hcmRNb2R1bGU7XG4gICAgICAgIGdhbWVib2FyZE1vZHVsZSA9IGdhbWUuZ2V0R2FtZWJvYXJkcygpW2JvYXJkVG9BdHRhY2tdO1xuICAgICAgICBjdXJyZW50U3RhdGUgPSBnYW1lYm9hcmRNb2R1bGUuZ2V0Q2VsbFN0YXRlQXQocG9zaXRpb24pO1xuICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBnYW1lLm1hbnVhbEF0dGFjayhib2FyZFRvQXR0YWNrLCBwb3NpdGlvbik7XG5cbiAgICAgICAgY3VycmVudFN0YXRlID0gZ2FtZWJvYXJkTW9kdWxlLmdldENlbGxTdGF0ZUF0KHBvc2l0aW9uKTtcbiAgICAgICAgc2V0Q2VsbFZhbHVlQ2xhc3NOYW1lKGVsZW1lbnQsIGN1cnJlbnRTdGF0ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNoZWNrVmFsaWRHYW1lYm9hcmQgPSAoZ2FtZWJvYXJkTW9kdWxlKSA9PiB7XG4gICAgICAgIC8qIER1Y2stdHlwZWQgR2FtZWJvYXJkIG1vZHVsZSBjaGVjayAqL1xuICAgICAgICBpZiAoZ2FtZWJvYXJkTW9kdWxlID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBnYW1lYm9hcmRNb2R1bGUgIT09IFwib2JqZWN0XCIpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIU9iamVjdC5oYXNPd24oZ2FtZWJvYXJkTW9kdWxlLCBcIm9ic2VydmVCb2FyZFwiKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwbGF5R2FtZSxcbiAgICAgICAgY3JlYXRlRWxlbWVudCxcbiAgICAgICAgY3JlYXRlQ2VsbCxcbiAgICAgICAgY3JlYXRlQm9hcmQsXG4gICAgICAgIGF0dGFja0NlbGwsXG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBET007XG4iLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuLy4uL1BsYXllci9QbGF5ZXJcIjtcbmltcG9ydCBHYW1lYm9hcmQgZnJvbSBcIi4uL0dhbWVib2FyZC9HYW1lYm9hcmRcIjtcblxuY29uc3QgR2FtZSA9ICgpID0+IHtcbiAgICBsZXQgZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBsZXQgZ2FtZUVuZGVkID0gZmFsc2U7XG4gICAgbGV0IHR1cm4gPSAwO1xuICAgIGxldCBwbGF5ZXJzID0gW1BsYXllcigpLCBQbGF5ZXIoKV07XG4gICAgcGxheWVyc1sxXS5zZXRTdHlsZShcIkNvbXB1dGVyXCIpO1xuICAgIGxldCBib2FyZHMgPSBbR2FtZWJvYXJkKDEwKSwgR2FtZWJvYXJkKDEwKV07XG5cbiAgICBjb25zdCBzdGFydEdhbWUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChnYW1lU3RhcnRlZCB8fCBnYW1lRW5kZWQpIHJldHVybiBudWxsO1xuICAgICAgICBnYW1lU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIGdhbWVFbmRlZCA9IGZhbHNlO1xuICAgICAgICBib2FyZHNbMF0uc3RhcnRHYW1lKCk7XG4gICAgICAgIGJvYXJkc1sxXS5zdGFydEdhbWUoKTtcbiAgICAgICAgdHVybiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgICAgICBpZiAocGxheWVyc1t0dXJuXS5nZXRTdHlsZSgpID09PSBcIkNvbXB1dGVyXCIpIGNvbXB1dGVyQXR0YWNrKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGVuZEdhbWUgPSAoKSA9PiB7XG4gICAgICAgIGdhbWVFbmRlZCA9IHRydWU7XG4gICAgICAgIGdhbWVTdGFydGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0R2FtZSA9ICgpID0+IHtcbiAgICAgICAgZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgZ2FtZUVuZGVkID0gZmFsc2U7XG4gICAgICAgIGJvYXJkc1swXS5yZXNldEJvYXJkKCk7XG4gICAgICAgIGJvYXJkc1sxXS5yZXNldEJvYXJkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG1hbnVhbEF0dGFjayA9IChib2FyZCwgcG9zaXRpb24pID0+IHtcbiAgICAgICAgaWYgKCEoTnVtYmVyLmlzSW50ZWdlcihib2FyZCkgJiYgYm9hcmQgPj0gMCAmJiBib2FyZCA8PSAxKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghZ2FtZVN0YXJ0ZWQgfHwgZ2FtZUVuZGVkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHBsYXllcnNbdHVybl0uZ2V0U3R5bGUoKSA9PT0gXCJDb21wdXRlclwiKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHR1cm4gPT09IGJvYXJkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgYm9hcmRUb0F0dGFjayA9IGJvYXJkc1sodHVybiArIDEpICUgMl07XG4gICAgICAgIGNvbnN0IHByZXZpb3VzQXR0YWNrc0NvdW50ID0gYm9hcmRUb0F0dGFjay5wcmV2aW91c0F0dGFja3MoKS5sZW5ndGg7XG4gICAgICAgIGJvYXJkVG9BdHRhY2sucmVjZWl2ZUF0dGFjayhwb3NpdGlvbik7XG4gICAgICAgIGlmIChwcmV2aW91c0F0dGFja3NDb3VudCAhPT0gYm9hcmRUb0F0dGFjay5wcmV2aW91c0F0dGFja3MoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChib2FyZFRvQXR0YWNrLmNoZWNrRGVmZWF0KCkpIHtcbiAgICAgICAgICAgICAgICBlbmRHYW1lKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhbmdlVHVybigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbXB1dGVyQXR0YWNrID0gKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvYXJkVG9BdHRhY2sgPSBib2FyZHNbKHR1cm4gKyAxKSAlIDJdO1xuICAgICAgICAgICAgcGxheWVyc1t0dXJuXS50YWtlQ29tcHV0ZXJUdXJuUmFuZG9tKGJvYXJkVG9BdHRhY2spO1xuICAgICAgICAgICAgaWYgKGJvYXJkVG9BdHRhY2suY2hlY2tEZWZlYXQoKSkge1xuICAgICAgICAgICAgICAgIGVuZEdhbWUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFuZ2VUdXJuKCk7XG4gICAgICAgIH0sIDMwMDApO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0dhbWVTdGFydGVkID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gZ2FtZVN0YXJ0ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzR2FtZUVuZGVkID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gZ2FtZUVuZGVkO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRQbGF5ZXJzID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gcGxheWVycztcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0R2FtZWJvYXJkcyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGJvYXJkcztcbiAgICB9O1xuXG4gICAgY29uc3QgY2hhbmdlVHVybiA9ICgpID0+IHtcbiAgICAgICAgdHVybiA9ICh0dXJuICsgMSkgJSAyO1xuICAgICAgICBpZiAocGxheWVyc1t0dXJuXS5nZXRTdHlsZSgpID09PSBcIkNvbXB1dGVyXCIpIGNvbXB1dGVyQXR0YWNrKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFR1cm4gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0dXJuO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydEdhbWUsXG4gICAgICAgIGVuZEdhbWUsXG4gICAgICAgIHJlc2V0R2FtZSxcbiAgICAgICAgbWFudWFsQXR0YWNrLFxuICAgICAgICBpc0dhbWVTdGFydGVkLFxuICAgICAgICBpc0dhbWVFbmRlZCxcbiAgICAgICAgZ2V0UGxheWVycyxcbiAgICAgICAgZ2V0R2FtZWJvYXJkcyxcbiAgICAgICAgY2hhbmdlVHVybixcbiAgICAgICAgZ2V0VHVybixcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IEdhbWU7XG4iLCJpbXBvcnQgRE9NIGZyb20gXCIuL0RPTS9ET01cIjtcbmltcG9ydCBcIi4vc3R5bGVzLmNzc1wiO1xuaW1wb3J0IFwiLi9ET00vRE9NLXN0eWxlcy5jc3NcIjtcblxuY29uc3QgVUkgPSBET00oKTtcblVJLmRpc3BsYXlHYW1lKCk7XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwiUGxheWVyIiwic2V0U3R5bGUiLCJzIiwiZ2V0U3R5bGUiLCJ0YWtlQ29tcHV0ZXJUdXJuUmFuZG9tIiwiYm9hcmQiLCJwb3NzaWJsZUF0dGFja3MiLCJib2FyZEFyciIsIm9ic2VydmVCb2FyZCIsInkiLCJ4IiwicmFuZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJlY2VpdmVBdHRhY2siLCJzaXplIiwiZ2FtZVN0YXJ0ZWQiLCJhdHRhY2tzIiwiaGl0cyIsInNpbmtzIiwiZ2VuZXJhdGVCb2FyZCIsImoiLCJzdGFydGluZ0JvYXJkIiwidmFsaWRhdGVTaGlwUG9zaXRpb24iLCJwb3NpdGlvbiIsInJvdGF0aW9uIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwidmFsaWRhdGVDb29yZGluYXRlSW5wdXQiLCJib3VuZHMiLCJjYWxjdWxhdGVTaGlwQXJlYSIsImxlbmd0aEJlaGluZCIsImFicyIsImxlbmd0aEluZnJvbnQiLCJjZWlsIiwiZXh0cmFjdFNoaXAiLCJzaGlwIiwibmVhcmVzdE5laWdoYm91ciIsInBvcyIsIkFycmF5IiwiaXNBcnJheSIsImlzR2FtZVN0YXJ0ZWQiLCJwYXJzZSIsInRvdGFsTnVtYmVyT2ZTaGlwcyIsImJvYXJkQ29weSIsInF1YW50aXR5Iiwic3RhcnRHYW1lIiwicmVzZXRCb2FyZCIsInBsYWNlU2hpcCIsIm1vdmVTaGlwIiwib3JpZ1BvcyIsImRlc3RQb3MiLCJnZXRTaGlwIiwiY3VyclJvdCIsIm1pZGRsZUluZGV4IiwibWlkZGxlUG9zIiwic29ydCIsImIiLCJkZWxldGVTaGlwIiwic3RhcnRpbmdCb2FyZENvcHkiLCJzaGlwU3VuayIsImdldENlbGxTdGF0ZUF0IiwiY2hlY2tEZWZlYXQiLCJyZW1haW5pbmdOdW1iZXJPZlNoaXBzIiwicHJldmlvdXNBdHRhY2tzIiwicHJldmlvdXNIaXRzIiwicHJldmlvdXNTaW5rcyIsImxvY2FscyIsIkRPTSIsImdhbWUiLCJHYW1lIiwiZ2FtZUVuZGVkIiwidHVybiIsInBsYXllcnMiLCJib2FyZHMiLCJHYW1lYm9hcmQiLCJlbmRHYW1lIiwiY29tcHV0ZXJBdHRhY2siLCJzZXRUaW1lb3V0IiwiYm9hcmRUb0F0dGFjayIsImNoYW5nZVR1cm4iLCJyZXNldEdhbWUiLCJtYW51YWxBdHRhY2siLCJwcmV2aW91c0F0dGFja3NDb3VudCIsImlzR2FtZUVuZGVkIiwiZ2V0UGxheWVycyIsImdldEdhbWVib2FyZHMiLCJnZXRUdXJuIiwiZWxlIiwidGl0bGUiLCJib2FyZEFyZWEiLCJib2FyZDEiLCJiMVhBeGlzIiwiYjFZQXhpcyIsImJvYXJkMUlEIiwiaW5mb0JveCIsImJvYXJkMiIsImIyWEF4aXMiLCJiMllBeGlzIiwiYm9hcmQySUQiLCJidXR0b25zIiwic3RhcnRCdXR0b24iLCJyZXNldEJ1dHRvbiIsInRleHRDb250ZW50IiwidHlwZSIsImFyZ3VtZW50cyIsImNsYXNzZXMiLCJwYXJlbnQiLCJuZXdFbGVtZW50IiwiSFRNTFVua25vd25FbGVtZW50IiwiZm9yRWFjaCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsIkhUTUxFbGVtZW50IiwiY3JlYXRlQ2VsbCIsIkVsZW1lbnQiLCJzZXRDZWxsVmFsdWVDbGFzc05hbWUiLCJjZWxsIiwidmFsdWUiLCJjcmVhdGVCb2FyZCIsImdhbWVib2FyZE1vZHVsZSIsImNoZWNrVmFsaWRHYW1lYm9hcmQiLCJyZXBsYWNlQ2hpbGRyZW4iLCJuZXdDZWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFja0NlbGwiLCJjcmVhdGVBeGlzIiwiYm9hcmRObyIsImF4aXMiLCJvYnNCb2FyZCIsImN1cnJlbnRTdGF0ZSIsImhhc093biIsImRpc3BsYXlHYW1lIiwicmVtb3ZlRWxlbWVudCIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9